var td=Object.defineProperty;var nd=(l,Re,ae)=>Re in l?td(l,Re,{enumerable:!0,configurable:!0,writable:!0,value:ae}):l[Re]=ae;var ga=(l,Re,ae)=>nd(l,typeof Re!="symbol"?Re+"":Re,ae);this.PluginLinks=function(l,Re,ae,M,ya,ba){"use strict";const me="http://localhost:31788".replace(/\/+$/,"");class Os{constructor(e,n=me,s=ae){ga(this,"configuration");this.basePath=n,this.axios=s,e&&(this.configuration=e,this.basePath=e.basePath??n)}}class wa extends Error{constructor(e,n){super(n),this.field=e,this.name="RequiredError"}}const ke={},ve="https://example.com",Qe=function(t,e,n){if(n==null)throw new wa(e,`Required parameter ${e} was null or undefined when calling ${t}.`)},Se=function(t,e){e&&(e.username||e.password)&&(t.auth={username:e.username,password:e.password})},_e=async function(t,e){if(e&&e.accessToken){const n=typeof e.accessToken=="function"?await e.accessToken():await e.accessToken;t.Authorization="Bearer "+n}};function Es(t,e,n=""){e!=null&&(typeof e=="object"?Array.isArray(e)?e.forEach(s=>Es(t,s,n)):Object.keys(e).forEach(s=>Es(t,e[s],`${n}${n!==""?".":""}${s}`)):t.has(n)?t.append(n,e):t.set(n,e))}const Oe=function(t,...e){const n=new URLSearchParams(t.search);Es(n,e),t.search=n.toString()},Nt=function(t,e,n){const s=typeof t!="string";return(s&&n&&n.isJsonMime?n.isJsonMime(e.headers["Content-Type"]):s)?JSON.stringify(t!==void 0?t:{}):t||""},Ee=function(t){return t.pathname+t.search+t.hash},Ne=function(t,e,n,s){return(i=e,r=n)=>{const o={...t.options,url:(i.defaults.baseURL?"":(s==null?void 0:s.basePath)??r)+t.url};return i.request(o)}},ka=function(t){return{getLinkDetail:async(e,n={})=>{Qe("getLinkDetail","url",e);const s="/apis/api.plugin.halo.run/v1alpha1/plugins/PluginLinks/link-detail",i=new URL(s,ve);let r;t&&(r=t.baseOptions);const o={method:"GET",...r,...n},a={},c={};Se(o,t),await _e(a,t),e!==void 0&&(c.url=e),Oe(i,c);let u=r&&r.headers?r.headers:{};return o.headers={...a,...u,...n.headers},{url:Ee(i),options:o}},listLinks:async(e,n,s,i,r,o,a,c={})=>{const u="/apis/api.plugin.halo.run/v1alpha1/plugins/PluginLinks/links",h=new URL(u,ve);let f;t&&(f=t.baseOptions);const p={method:"GET",...f,...c},g={},b={};Se(p,t),await _e(g,t),e!==void 0&&(b.keyword=e),n!==void 0&&(b.groupName=n),s!==void 0&&(b.page=s),i!==void 0&&(b.size=i),r&&(b.labelSelector=r),o&&(b.fieldSelector=o),a&&(b.sort=a),Oe(h,b);let m=f&&f.headers?f.headers:{};return p.headers={...g,...m,...c.headers},{url:Ee(h),options:p}}}},ji=function(t){const e=ka(t);return{async getLinkDetail(n,s){var a,c;const i=await e.getLinkDetail(n,s),r=(t==null?void 0:t.serverIndex)??0,o=(c=(a=ke["ApiPluginHaloRunV1alpha1LinkApi.getLinkDetail"])==null?void 0:a[r])==null?void 0:c.url;return(u,h)=>Ne(i,ae,me,t)(u,o||h)},async listLinks(n,s,i,r,o,a,c,u){var g,b;const h=await e.listLinks(n,s,i,r,o,a,c,u),f=(t==null?void 0:t.serverIndex)??0,p=(b=(g=ke["ApiPluginHaloRunV1alpha1LinkApi.listLinks"])==null?void 0:g[f])==null?void 0:b.url;return(m,y)=>Ne(h,ae,me,t)(m,p||y)}}};class va extends Os{getLinkDetail(e,n){return ji(this.configuration).getLinkDetail(e.url,n).then(s=>s(this.axios,this.basePath))}listLinks(e={},n){return ji(this.configuration).listLinks(e.keyword,e.groupName,e.page,e.size,e.labelSelector,e.fieldSelector,e.sort,n).then(s=>s(this.axios,this.basePath))}}const Sa=function(t){return{createLinkGroup:async(e,n={})=>{const s="/apis/core.halo.run/v1alpha1/linkgroups",i=new URL(s,ve);let r;t&&(r=t.baseOptions);const o={method:"POST",...r,...n},a={},c={};Se(o,t),await _e(a,t),a["Content-Type"]="application/json",Oe(i,c);let u=r&&r.headers?r.headers:{};return o.headers={...a,...u,...n.headers},o.data=Nt(e,o,t),{url:Ee(i),options:o}},deleteLinkGroup:async(e,n={})=>{Qe("deleteLinkGroup","name",e);const s="/apis/core.halo.run/v1alpha1/linkgroups/{name}".replace("{name}",encodeURIComponent(String(e))),i=new URL(s,ve);let r;t&&(r=t.baseOptions);const o={method:"DELETE",...r,...n},a={},c={};Se(o,t),await _e(a,t),Oe(i,c);let u=r&&r.headers?r.headers:{};return o.headers={...a,...u,...n.headers},{url:Ee(i),options:o}},getLinkGroup:async(e,n={})=>{Qe("getLinkGroup","name",e);const s="/apis/core.halo.run/v1alpha1/linkgroups/{name}".replace("{name}",encodeURIComponent(String(e))),i=new URL(s,ve);let r;t&&(r=t.baseOptions);const o={method:"GET",...r,...n},a={},c={};Se(o,t),await _e(a,t),Oe(i,c);let u=r&&r.headers?r.headers:{};return o.headers={...a,...u,...n.headers},{url:Ee(i),options:o}},listLinkGroup:async(e,n,s,i,r,o={})=>{const a="/apis/core.halo.run/v1alpha1/linkgroups",c=new URL(a,ve);let u;t&&(u=t.baseOptions);const h={method:"GET",...u,...o},f={},p={};Se(h,t),await _e(f,t),e!==void 0&&(p.page=e),n!==void 0&&(p.size=n),s&&(p.labelSelector=s),i&&(p.fieldSelector=i),r&&(p.sort=r),Oe(c,p);let g=u&&u.headers?u.headers:{};return h.headers={...f,...g,...o.headers},{url:Ee(c),options:h}},patchLinkGroup:async(e,n,s={})=>{Qe("patchLinkGroup","name",e);const i="/apis/core.halo.run/v1alpha1/linkgroups/{name}".replace("{name}",encodeURIComponent(String(e))),r=new URL(i,ve);let o;t&&(o=t.baseOptions);const a={method:"PATCH",...o,...s},c={},u={};Se(a,t),await _e(c,t),c["Content-Type"]="application/json-patch+json",Oe(r,u);let h=o&&o.headers?o.headers:{};return a.headers={...c,...h,...s.headers},a.data=Nt(n,a,t),{url:Ee(r),options:a}},updateLinkGroup:async(e,n,s={})=>{Qe("updateLinkGroup","name",e);const i="/apis/core.halo.run/v1alpha1/linkgroups/{name}".replace("{name}",encodeURIComponent(String(e))),r=new URL(i,ve);let o;t&&(o=t.baseOptions);const a={method:"PUT",...o,...s},c={},u={};Se(a,t),await _e(c,t),c["Content-Type"]="application/json",Oe(r,u);let h=o&&o.headers?o.headers:{};return a.headers={...c,...h,...s.headers},a.data=Nt(n,a,t),{url:Ee(r),options:a}}}},Ct=function(t){const e=Sa(t);return{async createLinkGroup(n,s){var a,c;const i=await e.createLinkGroup(n,s),r=(t==null?void 0:t.serverIndex)??0,o=(c=(a=ke["LinkGroupV1alpha1Api.createLinkGroup"])==null?void 0:a[r])==null?void 0:c.url;return(u,h)=>Ne(i,ae,me,t)(u,o||h)},async deleteLinkGroup(n,s){var a,c;const i=await e.deleteLinkGroup(n,s),r=(t==null?void 0:t.serverIndex)??0,o=(c=(a=ke["LinkGroupV1alpha1Api.deleteLinkGroup"])==null?void 0:a[r])==null?void 0:c.url;return(u,h)=>Ne(i,ae,me,t)(u,o||h)},async getLinkGroup(n,s){var a,c;const i=await e.getLinkGroup(n,s),r=(t==null?void 0:t.serverIndex)??0,o=(c=(a=ke["LinkGroupV1alpha1Api.getLinkGroup"])==null?void 0:a[r])==null?void 0:c.url;return(u,h)=>Ne(i,ae,me,t)(u,o||h)},async listLinkGroup(n,s,i,r,o,a){var f,p;const c=await e.listLinkGroup(n,s,i,r,o,a),u=(t==null?void 0:t.serverIndex)??0,h=(p=(f=ke["LinkGroupV1alpha1Api.listLinkGroup"])==null?void 0:f[u])==null?void 0:p.url;return(g,b)=>Ne(c,ae,me,t)(g,h||b)},async patchLinkGroup(n,s,i){var c,u;const r=await e.patchLinkGroup(n,s,i),o=(t==null?void 0:t.serverIndex)??0,a=(u=(c=ke["LinkGroupV1alpha1Api.patchLinkGroup"])==null?void 0:c[o])==null?void 0:u.url;return(h,f)=>Ne(r,ae,me,t)(h,a||f)},async updateLinkGroup(n,s,i){var c,u;const r=await e.updateLinkGroup(n,s,i),o=(t==null?void 0:t.serverIndex)??0,a=(u=(c=ke["LinkGroupV1alpha1Api.updateLinkGroup"])==null?void 0:c[o])==null?void 0:u.url;return(h,f)=>Ne(r,ae,me,t)(h,a||f)}}};class _a extends Os{createLinkGroup(e={},n){return Ct(this.configuration).createLinkGroup(e.linkGroup,n).then(s=>s(this.axios,this.basePath))}deleteLinkGroup(e,n){return Ct(this.configuration).deleteLinkGroup(e.name,n).then(s=>s(this.axios,this.basePath))}getLinkGroup(e,n){return Ct(this.configuration).getLinkGroup(e.name,n).then(s=>s(this.axios,this.basePath))}listLinkGroup(e={},n){return Ct(this.configuration).listLinkGroup(e.page,e.size,e.labelSelector,e.fieldSelector,e.sort,n).then(s=>s(this.axios,this.basePath))}patchLinkGroup(e,n){return Ct(this.configuration).patchLinkGroup(e.name,e.jsonPatchInner,n).then(s=>s(this.axios,this.basePath))}updateLinkGroup(e,n){return Ct(this.configuration).updateLinkGroup(e.name,e.linkGroup,n).then(s=>s(this.axios,this.basePath))}}const Oa=function(t){return{createLink:async(e,n={})=>{const s="/apis/core.halo.run/v1alpha1/links",i=new URL(s,ve);let r;t&&(r=t.baseOptions);const o={method:"POST",...r,...n},a={},c={};Se(o,t),await _e(a,t),a["Content-Type"]="application/json",Oe(i,c);let u=r&&r.headers?r.headers:{};return o.headers={...a,...u,...n.headers},o.data=Nt(e,o,t),{url:Ee(i),options:o}},deleteLink:async(e,n={})=>{Qe("deleteLink","name",e);const s="/apis/core.halo.run/v1alpha1/links/{name}".replace("{name}",encodeURIComponent(String(e))),i=new URL(s,ve);let r;t&&(r=t.baseOptions);const o={method:"DELETE",...r,...n},a={},c={};Se(o,t),await _e(a,t),Oe(i,c);let u=r&&r.headers?r.headers:{};return o.headers={...a,...u,...n.headers},{url:Ee(i),options:o}},getLink:async(e,n={})=>{Qe("getLink","name",e);const s="/apis/core.halo.run/v1alpha1/links/{name}".replace("{name}",encodeURIComponent(String(e))),i=new URL(s,ve);let r;t&&(r=t.baseOptions);const o={method:"GET",...r,...n},a={},c={};Se(o,t),await _e(a,t),Oe(i,c);let u=r&&r.headers?r.headers:{};return o.headers={...a,...u,...n.headers},{url:Ee(i),options:o}},listLink:async(e,n,s,i,r,o={})=>{const a="/apis/core.halo.run/v1alpha1/links",c=new URL(a,ve);let u;t&&(u=t.baseOptions);const h={method:"GET",...u,...o},f={},p={};Se(h,t),await _e(f,t),e!==void 0&&(p.page=e),n!==void 0&&(p.size=n),s&&(p.labelSelector=s),i&&(p.fieldSelector=i),r&&(p.sort=r),Oe(c,p);let g=u&&u.headers?u.headers:{};return h.headers={...f,...g,...o.headers},{url:Ee(c),options:h}},patchLink:async(e,n,s={})=>{Qe("patchLink","name",e);const i="/apis/core.halo.run/v1alpha1/links/{name}".replace("{name}",encodeURIComponent(String(e))),r=new URL(i,ve);let o;t&&(o=t.baseOptions);const a={method:"PATCH",...o,...s},c={},u={};Se(a,t),await _e(c,t),c["Content-Type"]="application/json-patch+json",Oe(r,u);let h=o&&o.headers?o.headers:{};return a.headers={...c,...h,...s.headers},a.data=Nt(n,a,t),{url:Ee(r),options:a}},updateLink:async(e,n,s={})=>{Qe("updateLink","name",e);const i="/apis/core.halo.run/v1alpha1/links/{name}".replace("{name}",encodeURIComponent(String(e))),r=new URL(i,ve);let o;t&&(o=t.baseOptions);const a={method:"PUT",...o,...s},c={},u={};Se(a,t),await _e(c,t),c["Content-Type"]="application/json",Oe(r,u);let h=o&&o.headers?o.headers:{};return a.headers={...c,...h,...s.headers},a.data=Nt(n,a,t),{url:Ee(r),options:a}}}},Tt=function(t){const e=Oa(t);return{async createLink(n,s){var a,c;const i=await e.createLink(n,s),r=(t==null?void 0:t.serverIndex)??0,o=(c=(a=ke["LinkV1alpha1Api.createLink"])==null?void 0:a[r])==null?void 0:c.url;return(u,h)=>Ne(i,ae,me,t)(u,o||h)},async deleteLink(n,s){var a,c;const i=await e.deleteLink(n,s),r=(t==null?void 0:t.serverIndex)??0,o=(c=(a=ke["LinkV1alpha1Api.deleteLink"])==null?void 0:a[r])==null?void 0:c.url;return(u,h)=>Ne(i,ae,me,t)(u,o||h)},async getLink(n,s){var a,c;const i=await e.getLink(n,s),r=(t==null?void 0:t.serverIndex)??0,o=(c=(a=ke["LinkV1alpha1Api.getLink"])==null?void 0:a[r])==null?void 0:c.url;return(u,h)=>Ne(i,ae,me,t)(u,o||h)},async listLink(n,s,i,r,o,a){var f,p;const c=await e.listLink(n,s,i,r,o,a),u=(t==null?void 0:t.serverIndex)??0,h=(p=(f=ke["LinkV1alpha1Api.listLink"])==null?void 0:f[u])==null?void 0:p.url;return(g,b)=>Ne(c,ae,me,t)(g,h||b)},async patchLink(n,s,i){var c,u;const r=await e.patchLink(n,s,i),o=(t==null?void 0:t.serverIndex)??0,a=(u=(c=ke["LinkV1alpha1Api.patchLink"])==null?void 0:c[o])==null?void 0:u.url;return(h,f)=>Ne(r,ae,me,t)(h,a||f)},async updateLink(n,s,i){var c,u;const r=await e.updateLink(n,s,i),o=(t==null?void 0:t.serverIndex)??0,a=(u=(c=ke["LinkV1alpha1Api.updateLink"])==null?void 0:c[o])==null?void 0:u.url;return(h,f)=>Ne(r,ae,me,t)(h,a||f)}}};class Ea extends Os{createLink(e={},n){return Tt(this.configuration).createLink(e.link,n).then(s=>s(this.axios,this.basePath))}deleteLink(e,n){return Tt(this.configuration).deleteLink(e.name,n).then(s=>s(this.axios,this.basePath))}getLink(e,n){return Tt(this.configuration).getLink(e.name,n).then(s=>s(this.axios,this.basePath))}listLink(e={},n){return Tt(this.configuration).listLink(e.page,e.size,e.labelSelector,e.fieldSelector,e.sort,n).then(s=>s(this.axios,this.basePath))}patchLink(e,n){return Tt(this.configuration).patchLink(e.name,e.jsonPatchInner,n).then(s=>s(this.axios,this.basePath))}updateLink(e,n){return Tt(this.configuration).updateLink(e.name,e.link,n).then(s=>s(this.axios,this.basePath))}}const ge={link:new Ea(void 0,"",Re.axiosInstance),group:new _a(void 0,"",Re.axiosInstance)},Ns={link:new va(void 0,"",Re.axiosInstance)};class Cs{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Cn=typeof window>"u"||"Deno"in window;function Na(){}function Fi(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ca(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ui(t,e){if(t===e)return t;const n=Ki(t)&&Ki(e);if(n||Yi(t)&&Yi(e)){const s=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),r=i.length,o=n?[]:{};let a=0;for(let c=0;c<r;c++){const u=n?c:i[c];o[u]=Ui(t[u],e[u]),o[u]===t[u]&&a++}return s===r&&a===s?t:o}return e}function Ts(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Ki(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yi(t){if(!qi(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!qi(n)||!n.hasOwnProperty("isPrototypeOf"))}function qi(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ta(t){return new Promise(e=>{setTimeout(e,t)})}function Gi(t){Ta(0).then(t)}function Qi(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ui(t,e):e}class La extends Cs{constructor(){super(),this.setup=e=>{if(!Cn&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Aa=new La,Hi=["online","offline"];class Ia extends Cs{constructor(){super(),this.setup=e=>{if(!Cn&&window.addEventListener){const n=()=>e();return Hi.forEach(s=>{window.addEventListener(s,n,!1)}),()=>{Hi.forEach(s=>{window.removeEventListener(s,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(s=>{typeof s=="boolean"?this.setOnline(s):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Va=new Ia;function Da(t){return(t??"online")==="online"?Va.isOnline():!0}class $a{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function xa(t){return t instanceof $a}function Ma(){let t=[],e=0,n=h=>{h()},s=h=>{h()};const i=h=>{let f;e++;try{f=h()}finally{e--,e||a()}return f},r=h=>{e?t.push(h):Gi(()=>{n(h)})},o=h=>(...f)=>{r(()=>{h(...f)})},a=()=>{const h=t;t=[],h.length&&Gi(()=>{s(()=>{h.forEach(f=>{n(f)})})})};return{batch:i,batchCalls:o,schedule:r,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{s=h}}}const Pa=Ma();class Ba extends Cs{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Wi(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ls(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ls(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const s=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Ts(s,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const r=this.hasListeners();r&&zi(this.currentQuery,i,this.options,s)&&this.executeFetch(),this.updateResult(n),r&&(this.currentQuery!==i||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();r&&(this.currentQuery!==i||this.options.enabled!==s.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),s=this.createResult(n,e);return ja(this,s,e)&&(this.currentResult=s,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),s}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(s),e[s])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),s=this.client.getQueryCache().build(this.client,n);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Na)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Cn||this.currentResult.isStale||!Fi(this.options.staleTime))return;const n=Ca(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Cn||this.options.enabled===!1||!Fi(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Aa.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const s=this.currentQuery,i=this.options,r=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,c=e!==s,u=c?e.state:this.currentQueryInitialState,h=c?this.currentResult:this.previousQueryResult,{state:f}=e;let{dataUpdatedAt:p,error:g,errorUpdatedAt:b,fetchStatus:m,status:y}=f,k=!1,N=!1,_;if(n._optimisticResults){const v=this.hasListeners(),$=!v&&Wi(e,n),B=v&&zi(e,s,n,i);($||B)&&(m=Da(e.options.networkMode)?"fetching":"paused",p||(y="loading")),n._optimisticResults==="isRestoring"&&(m="idle")}if(n.keepPreviousData&&!f.dataUpdatedAt&&h!=null&&h.isSuccess&&y!=="error")_=h.data,p=h.dataUpdatedAt,y=h.status,k=!0;else if(n.select&&typeof f.data<"u")if(r&&f.data===(o==null?void 0:o.data)&&n.select===this.selectFn)_=this.selectResult;else try{this.selectFn=n.select,_=n.select(f.data),_=Qi(r==null?void 0:r.data,_,n),this.selectResult=_,this.selectError=null}catch(v){this.selectError=v}else _=f.data;if(typeof n.placeholderData<"u"&&typeof _>"u"&&y==="loading"){let v;if(r!=null&&r.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))v=r.data;else if(v=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof v<"u")try{v=n.select(v),this.selectError=null}catch($){this.selectError=$}typeof v<"u"&&(y="success",_=Qi(r==null?void 0:r.data,v,n),N=!0)}this.selectError&&(g=this.selectError,_=this.selectResult,b=Date.now(),y="error");const I=m==="fetching",L=y==="loading",A=y==="error";return{status:y,fetchStatus:m,isLoading:L,isSuccess:y==="success",isError:A,isInitialLoading:L&&I,data:_,dataUpdatedAt:p,error:g,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:I,isRefetching:I&&!L,isLoadingError:A&&f.dataUpdatedAt===0,isPaused:m==="paused",isPlaceholderData:N,isPreviousData:k,isRefetchError:A&&f.dataUpdatedAt!==0,isStale:As(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,s=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Ts(s,n))return;this.currentResult=s;const i={cache:!0},r=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const c=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(u=>{const h=u;return this.currentResult[h]!==n[h]&&c.has(h)})};(e==null?void 0:e.listeners)!==!1&&r()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!xa(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){Pa.batch(()=>{if(e.onSuccess){var n,s,i,r;(n=(s=this.options).onSuccess)==null||n.call(s,this.currentResult.data),(i=(r=this.options).onSettled)==null||i.call(r,this.currentResult.data,null)}else if(e.onError){var o,a,c,u;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(c=(u=this.options).onSettled)==null||c.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Ra(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Wi(t,e){return Ra(t,e)||t.state.dataUpdatedAt>0&&Ls(t,e,e.refetchOnMount)}function Ls(t,e,n){if(e.enabled!==!1){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&As(t,e)}return!1}function zi(t,e,n,s){return n.enabled!==!1&&(t!==e||s.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&As(t,n)}function As(t,e){return t.isStaleByTime(e.staleTime)}function ja(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!Ts(t.getCurrentResult(),e)}const Fa="VUE_QUERY_CLIENT";function Ua(t){const e=t?":"+t:"";return""+Fa+e}function Ka(t){return Array.isArray(t)}function Xi(t,e){Object.keys(t).forEach(n=>{t[n]=e[n]})}function Is(t,e){if(e){const n=e(t);if(n!==void 0||l.isRef(t))return n}if(Array.isArray(t))return t.map(n=>Is(n,e));if(typeof t=="object"&&Ya(t)){const n=Object.entries(t).map(([s,i])=>[s,Is(i,e)]);return Object.fromEntries(n)}return t}function Ji(t){return Is(t,e=>{if(l.isRef(e))return Ji(l.unref(e))})}function Ya(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function qa(t,e){return typeof t=="function"?t(...e):!!t}function Zi(t=""){const e=Ua(t),n=l.inject(e,null);if(!n){var s;throw((s=l.getCurrentInstance())==null?void 0:s.proxy)?new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library."):new Error("vue-query hooks can only be used inside setup() function.")}return n}function Ga(t,e,n={},s={}){var i;const r=l.computed(()=>Qa(e,n,s)),o=(i=r.value.queryClient)!=null?i:Zi(r.value.queryClientKey),a=l.computed(()=>{const m=o.defaultQueryOptions(r.value);return m._optimisticResults=o.isRestoring.value?"isRestoring":"optimistic",m}),c=new t(o,a.value),u=l.reactive(c.getCurrentResult());let h=()=>{};l.watch(o.isRestoring,m=>{m||(h(),h=c.subscribe(y=>{Xi(u,y)}))},{immediate:!0});const f=()=>{c.setOptions(a.value),Xi(u,c.getCurrentResult())};l.watch(a,f),l.onScopeDispose(()=>{h()});const p=(...m)=>(f(),u.refetch(...m)),g=()=>new Promise((m,y)=>{let k=()=>{};const N=()=>{if(a.value.enabled!==!1){const _=c.getOptimisticResult(a.value);_.isStale?(k(),c.fetchOptimistic(a.value).then(m,y)):(k(),m(_))}};N(),k=l.watch(a,N)});l.watch(()=>u.error,m=>{if(u.isError&&!u.isFetching&&qa(a.value.useErrorBoundary,[m,c.getCurrentQuery()]))throw m});const b=l.toRefs(l.readonly(u));for(const m in u)typeof u[m]=="function"&&(b[m]=u[m]);return b.suspense=g,b.refetch=p,b}function Qa(t,e={},n={}){const s=l.unref(t),i=l.unref(e),r=l.unref(n);let o=s;Ka(s)?typeof i=="function"?o={...r,queryKey:s,queryFn:i}:o={...i,queryKey:s}:o=s;const a=Ji(o);return typeof a.enabled=="function"&&(a.enabled=a.enabled()),a}function er(t,e,n){return Ga(Ba,t,e,n)}function Ha(t,e,n,s){const i=l.ref(0),r=l.ref([]),{isLoading:o,refetch:a}=er({queryKey:["links",t,e,s,n],queryFn:async()=>{const{data:c}=await Ns.link.listLinks({page:t.value,size:e.value,keyword:n==null?void 0:n.value,groupName:s==null?void 0:s.value,sort:["spec.priority,asc"]});return i.value=c.total,c.items},refetchOnWindowFocus:!1,refetchInterval(c){const u=c==null?void 0:c.filter(h=>!!h.metadata.deletionTimestamp);return u!=null&&u.length?1e3:!1},onSuccess(c){r.value=c}});return{links:r,isLoading:o,refetch:a,total:i}}function tr(){const t=l.ref([]),{isLoading:e,refetch:n}=er({queryKey:["link-groups"],queryFn:async()=>{const{data:s}=await ge.group.listLinkGroup();return s.items.map(i=>(i.spec&&(i.spec.priority=i.spec.priority||0),i)).sort((i,r)=>{var o,a;return(((o=i.spec)==null?void 0:o.priority)||0)-(((a=r.spec)==null?void 0:a.priority)||0)})},refetchOnWindowFocus:!1,refetchInterval(s){return(s==null?void 0:s.some(r=>!!r.metadata.deletionTimestamp))?1e3:!1},onSuccess(s){t.value=s}});return{groups:t,isLoading:e,refetch:n}}var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nr={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ft,function(){var n=1e3,s=6e4,i=36e5,r="millisecond",o="second",a="minute",c="hour",u="day",h="week",f="month",p="quarter",g="year",b="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var O=["th","st","nd","rd"],C=S%100;return"["+S+(O[(C-20)%10]||O[C]||O[0])+"]"}},_=function(S,O,C){var x=String(S);return!x||x.length>=O?S:""+Array(O+1-x.length).join(C)+S},I={s:_,z:function(S){var O=-S.utcOffset(),C=Math.abs(O),x=Math.floor(C/60),D=C%60;return(O<=0?"+":"-")+_(x,2,"0")+":"+_(D,2,"0")},m:function S(O,C){if(O.date()<C.date())return-S(C,O);var x=12*(C.year()-O.year())+(C.month()-O.month()),D=O.clone().add(x,f),P=C-D<0,T=O.clone().add(x+(P?-1:1),f);return+(-(x+(C-D)/(P?D-T:T-D))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:f,y:g,w:h,d:u,D:b,h:c,m:a,s:o,ms:r,Q:p}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},L="en",A={};A[L]=N;var q="$isDayjsObject",v=function(S){return S instanceof U||!(!S||!S[q])},$=function S(O,C,x){var D;if(!O)return L;if(typeof O=="string"){var P=O.toLowerCase();A[P]&&(D=P),C&&(A[P]=C,D=P);var T=O.split("-");if(!D&&T.length>1)return S(T[0])}else{var W=O.name;A[W]=O,D=W}return!x&&D&&(L=D),D||!x&&L},B=function(S,O){if(v(S))return S.clone();var C=typeof O=="object"?O:{};return C.date=S,C.args=arguments,new U(C)},j=I;j.l=$,j.i=v,j.w=function(S,O){return B(S,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var U=function(){function S(C){this.$L=$(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[q]=!0}var O=S.prototype;return O.parse=function(C){this.$d=function(x){var D=x.date,P=x.utc;if(D===null)return new Date(NaN);if(j.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var T=D.match(y);if(T){var W=T[2]-1||0,z=(T[7]||"0").substring(0,3);return P?new Date(Date.UTC(T[1],W,T[3]||1,T[4]||0,T[5]||0,T[6]||0,z)):new Date(T[1],W,T[3]||1,T[4]||0,T[5]||0,T[6]||0,z)}}return new Date(D)}(C),this.init()},O.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},O.$utils=function(){return j},O.isValid=function(){return this.$d.toString()!==m},O.isSame=function(C,x){var D=B(C);return this.startOf(x)<=D&&D<=this.endOf(x)},O.isAfter=function(C,x){return B(C)<this.startOf(x)},O.isBefore=function(C,x){return this.endOf(x)<B(C)},O.$g=function(C,x,D){return j.u(C)?this[x]:this.set(D,C)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(C,x){var D=this,P=!!j.u(x)||x,T=j.p(C),W=function(et,pe){var Ke=j.w(D.$u?Date.UTC(D.$y,pe,et):new Date(D.$y,pe,et),D);return P?Ke:Ke.endOf(u)},z=function(et,pe){return j.w(D.toDate()[et].apply(D.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(pe)),D)},H=this.$W,oe=this.$M,we=this.$D,ct="set"+(this.$u?"UTC":"");switch(T){case g:return P?W(1,0):W(31,11);case f:return P?W(1,oe):W(0,oe+1);case h:var Ze=this.$locale().weekStart||0,vt=(H<Ze?H+7:H)-Ze;return W(P?we-vt:we+(6-vt),oe);case u:case b:return z(ct+"Hours",0);case c:return z(ct+"Minutes",1);case a:return z(ct+"Seconds",2);case o:return z(ct+"Milliseconds",3);default:return this.clone()}},O.endOf=function(C){return this.startOf(C,!1)},O.$set=function(C,x){var D,P=j.p(C),T="set"+(this.$u?"UTC":""),W=(D={},D[u]=T+"Date",D[b]=T+"Date",D[f]=T+"Month",D[g]=T+"FullYear",D[c]=T+"Hours",D[a]=T+"Minutes",D[o]=T+"Seconds",D[r]=T+"Milliseconds",D)[P],z=P===u?this.$D+(x-this.$W):x;if(P===f||P===g){var H=this.clone().set(b,1);H.$d[W](z),H.init(),this.$d=H.set(b,Math.min(this.$D,H.daysInMonth())).$d}else W&&this.$d[W](z);return this.init(),this},O.set=function(C,x){return this.clone().$set(C,x)},O.get=function(C){return this[j.p(C)]()},O.add=function(C,x){var D,P=this;C=Number(C);var T=j.p(x),W=function(oe){var we=B(P);return j.w(we.date(we.date()+Math.round(oe*C)),P)};if(T===f)return this.set(f,this.$M+C);if(T===g)return this.set(g,this.$y+C);if(T===u)return W(1);if(T===h)return W(7);var z=(D={},D[a]=s,D[c]=i,D[o]=n,D)[T]||1,H=this.$d.getTime()+C*z;return j.w(H,this)},O.subtract=function(C,x){return this.add(-1*C,x)},O.format=function(C){var x=this,D=this.$locale();if(!this.isValid())return D.invalidDate||m;var P=C||"YYYY-MM-DDTHH:mm:ssZ",T=j.z(this),W=this.$H,z=this.$m,H=this.$M,oe=D.weekdays,we=D.months,ct=D.meridiem,Ze=function(pe,Ke,St,en){return pe&&(pe[Ke]||pe(x,P))||St[Ke].slice(0,en)},vt=function(pe){return j.s(W%12||12,pe,"0")},et=ct||function(pe,Ke,St){var en=pe<12?"AM":"PM";return St?en.toLowerCase():en};return P.replace(k,function(pe,Ke){return Ke||function(St){switch(St){case"YY":return String(x.$y).slice(-2);case"YYYY":return j.s(x.$y,4,"0");case"M":return H+1;case"MM":return j.s(H+1,2,"0");case"MMM":return Ze(D.monthsShort,H,we,3);case"MMMM":return Ze(we,H);case"D":return x.$D;case"DD":return j.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return Ze(D.weekdaysMin,x.$W,oe,2);case"ddd":return Ze(D.weekdaysShort,x.$W,oe,3);case"dddd":return oe[x.$W];case"H":return String(W);case"HH":return j.s(W,2,"0");case"h":return vt(1);case"hh":return vt(2);case"a":return et(W,z,!0);case"A":return et(W,z,!1);case"m":return String(z);case"mm":return j.s(z,2,"0");case"s":return String(x.$s);case"ss":return j.s(x.$s,2,"0");case"SSS":return j.s(x.$ms,3,"0");case"Z":return T}return null}(pe)||T.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(C,x,D){var P,T=this,W=j.p(x),z=B(C),H=(z.utcOffset()-this.utcOffset())*s,oe=this-z,we=function(){return j.m(T,z)};switch(W){case g:P=we()/12;break;case f:P=we();break;case p:P=we()/3;break;case h:P=(oe-H)/6048e5;break;case u:P=(oe-H)/864e5;break;case c:P=oe/i;break;case a:P=oe/s;break;case o:P=oe/n;break;default:P=oe}return D?P:j.a(P)},O.daysInMonth=function(){return this.endOf(f).$D},O.$locale=function(){return A[this.$L]},O.locale=function(C,x){if(!C)return this.$L;var D=this.clone(),P=$(C,x,!0);return P&&(D.$L=P),D},O.clone=function(){return j.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},S}(),R=U.prototype;return B.prototype=R,[["$ms",r],["$s",o],["$m",a],["$H",c],["$W",u],["$M",f],["$y",g],["$D",b]].forEach(function(S){R[S[1]]=function(O){return this.$g(O,S[0],S[1])}}),B.extend=function(S,O){return S.$i||(S(O,U,B),S.$i=!0),B},B.locale=$,B.isDayjs=v,B.unix=function(S){return B(1e3*S)},B.en=A[L],B.Ls=A,B.p={},B})})(nr);var sr=nr.exports;const Ds=Vs(sr);var Wa={exports:{}};(function(t,e){(function(n,s){t.exports=s(sr)})(ft,function(n){function s(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var i=s(n),r={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,a){return a==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,a){var c=100*o+a;return c<600?"凌晨":c<900?"早上":c<1100?"上午":c<1300?"中午":c<1800?"下午":"晚上"}};return i.default.locale(r,null,!0),r})})(Wa);var ir={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ft,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},s={};return function(i,r,o){var a,c=function(p,g,b){b===void 0&&(b={});var m=new Date(p),y=function(k,N){N===void 0&&(N={});var _=N.timeZoneName||"short",I=k+"|"+_,L=s[I];return L||(L=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:k,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:_}),s[I]=L),L}(g,b);return y.formatToParts(m)},u=function(p,g){for(var b=c(p,g),m=[],y=0;y<b.length;y+=1){var k=b[y],N=k.type,_=k.value,I=n[N];I>=0&&(m[I]=parseInt(_,10))}var L=m[3],A=L===24?0:L,q=m[0]+"-"+m[1]+"-"+m[2]+" "+A+":"+m[4]+":"+m[5]+":000",v=+p;return(o.utc(q).valueOf()-(v-=v%1e3))/6e4},h=r.prototype;h.tz=function(p,g){p===void 0&&(p=a);var b,m=this.utcOffset(),y=this.toDate(),k=y.toLocaleString("en-US",{timeZone:p}),N=Math.round((y-new Date(k))/1e3/60),_=15*-Math.round(y.getTimezoneOffset()/15)-N;if(!Number(_))b=this.utcOffset(0,g);else if(b=o(k,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(_,!0),g){var I=b.utcOffset();b=b.add(m-I,"minute")}return b.$x.$timezone=p,b},h.offsetName=function(p){var g=this.$x.$timezone||o.tz.guess(),b=c(this.valueOf(),g,{timeZoneName:p}).find(function(m){return m.type.toLowerCase()==="timezonename"});return b&&b.value};var f=h.startOf;h.startOf=function(p,g){if(!this.$x||!this.$x.$timezone)return f.call(this,p,g);var b=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return f.call(b,p,g).tz(this.$x.$timezone,!0)},o.tz=function(p,g,b){var m=b&&g,y=b||g||a,k=u(+o(),y);if(typeof p!="string")return o(p).tz(y);var N=function(A,q,v){var $=A-60*q*1e3,B=u($,v);if(q===B)return[$,q];var j=u($-=60*(B-q)*1e3,v);return B===j?[$,B]:[A-60*Math.min(B,j)*1e3,Math.max(B,j)]}(o.utc(p,m).valueOf(),k,y),_=N[0],I=N[1],L=o(_).utcOffset(I);return L.$x.$timezone=y,L},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(p){a=p}}})})(ir);var za=ir.exports;const Xa=Vs(za);Ds.extend(Xa),Ds.locale("zh-cn");function Ja(t){return t?Ds(t).format("YYYY-MM-DD HH:mm"):""}const $s=Symbol.for("yaml.alias"),xs=Symbol.for("yaml.document"),st=Symbol.for("yaml.map"),rr=Symbol.for("yaml.pair"),He=Symbol.for("yaml.scalar"),Lt=Symbol.for("yaml.seq"),xe=Symbol.for("yaml.node.type"),dt=t=>!!t&&typeof t=="object"&&t[xe]===$s,At=t=>!!t&&typeof t=="object"&&t[xe]===xs,It=t=>!!t&&typeof t=="object"&&t[xe]===st,ee=t=>!!t&&typeof t=="object"&&t[xe]===rr,Z=t=>!!t&&typeof t=="object"&&t[xe]===He,Vt=t=>!!t&&typeof t=="object"&&t[xe]===Lt;function ne(t){if(t&&typeof t=="object")switch(t[xe]){case st:case Lt:return!0}return!1}function ie(t){if(t&&typeof t=="object")switch(t[xe]){case $s:case st:case He:case Lt:return!0}return!1}const Za=t=>(Z(t)||ne(t))&&!!t.anchor,Ce=Symbol("break visit"),or=Symbol("skip children"),Ye=Symbol("remove node");function it(t,e){const n=ar(e);At(t)?Dt(null,t.contents,n,Object.freeze([t]))===Ye&&(t.contents=null):Dt(null,t,n,Object.freeze([]))}it.BREAK=Ce,it.SKIP=or,it.REMOVE=Ye;function Dt(t,e,n,s){const i=lr(t,e,n,s);if(ie(i)||ee(i))return cr(t,s,i),Dt(t,i,n,s);if(typeof i!="symbol"){if(ne(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=Dt(r,e.items[r],n,s);if(typeof o=="number")r=o-1;else{if(o===Ce)return Ce;o===Ye&&(e.items.splice(r,1),r-=1)}}}else if(ee(e)){s=Object.freeze(s.concat(e));const r=Dt("key",e.key,n,s);if(r===Ce)return Ce;r===Ye&&(e.key=null);const o=Dt("value",e.value,n,s);if(o===Ce)return Ce;o===Ye&&(e.value=null)}}return i}async function Tn(t,e){const n=ar(e);At(t)?await $t(null,t.contents,n,Object.freeze([t]))===Ye&&(t.contents=null):await $t(null,t,n,Object.freeze([]))}Tn.BREAK=Ce,Tn.SKIP=or,Tn.REMOVE=Ye;async function $t(t,e,n,s){const i=await lr(t,e,n,s);if(ie(i)||ee(i))return cr(t,s,i),$t(t,i,n,s);if(typeof i!="symbol"){if(ne(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=await $t(r,e.items[r],n,s);if(typeof o=="number")r=o-1;else{if(o===Ce)return Ce;o===Ye&&(e.items.splice(r,1),r-=1)}}}else if(ee(e)){s=Object.freeze(s.concat(e));const r=await $t("key",e.key,n,s);if(r===Ce)return Ce;r===Ye&&(e.key=null);const o=await $t("value",e.value,n,s);if(o===Ce)return Ce;o===Ye&&(e.value=null)}}return i}function ar(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function lr(t,e,n,s){var i,r,o,a,c;if(typeof n=="function")return n(t,e,s);if(It(e))return(i=n.Map)==null?void 0:i.call(n,t,e,s);if(Vt(e))return(r=n.Seq)==null?void 0:r.call(n,t,e,s);if(ee(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,s);if(Z(e))return(a=n.Scalar)==null?void 0:a.call(n,t,e,s);if(dt(e))return(c=n.Alias)==null?void 0:c.call(n,t,e,s)}function cr(t,e,n){const s=e[e.length-1];if(ne(s))s.items[t]=n;else if(ee(s))t==="key"?s.key=n:s.value=n;else if(At(s))s.contents=n;else{const i=dt(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const el={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},tl=t=>t.replace(/[!,[\]{}]/g,e=>el[e]);class ye{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ye.defaultYaml,e),this.tags=Object.assign({},ye.defaultTags,n)}clone(){const e=new ye(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new ye(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ye.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ye.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:ye.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ye.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),i=s.shift();switch(i){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[r,o]=s;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[r]=s;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const o=/^\d+\.\d+$/.test(r);return n(6,`Unsupported YAML version ${r}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,s,i]=e.match(/^(.*!)([^!]*)$/s);i||n(`The ${e} tag has no suffix`);const r=this.tags[s];if(r)try{return r+decodeURIComponent(i)}catch(o){return n(String(o)),null}return s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+tl(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let i;if(e&&s.length>0&&ie(e.contents)){const r={};it(e.contents,(o,a)=>{ie(a)&&a.tag&&(r[a.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,o]of s)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${r} ${o}`);return n.join(`
`)}}ye.defaultYaml={explicit:!1,version:"1.2"},ye.defaultTags={"!!":"tag:yaml.org,2002:"};function ur(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function fr(t){const e=new Set;return it(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function dr(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function nl(t,e){const n=[],s=new Map;let i=null;return{onAnchor:r=>{n.push(r),i||(i=fr(t));const o=dr(e,i);return i.add(o),o},setAnchors:()=>{for(const r of n){const o=s.get(r);if(typeof o=="object"&&o.anchor&&(Z(o.node)||ne(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=r,a}}},sourceObjects:s}}function xt(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let i=0,r=s.length;i<r;++i){const o=s[i],a=xt(t,s,String(i),o);a===void 0?delete s[i]:a!==o&&(s[i]=a)}else if(s instanceof Map)for(const i of Array.from(s.keys())){const r=s.get(i),o=xt(t,s,i,r);o===void 0?s.delete(i):o!==r&&s.set(i,o)}else if(s instanceof Set)for(const i of Array.from(s)){const r=xt(t,s,i,i);r===void 0?s.delete(i):r!==i&&(s.delete(i),s.add(r))}else for(const[i,r]of Object.entries(s)){const o=xt(t,s,i,r);o===void 0?delete s[i]:o!==r&&(s[i]=o)}return t.call(e,n,s)}function Me(t,e,n){if(Array.isArray(t))return t.map((s,i)=>Me(s,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!Za(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=r=>{s.res=r,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class Ms{constructor(e){Object.defineProperty(this,xe,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:i,reviver:r}={}){if(!At(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=Me(this,"",o);if(typeof i=="function")for(const{count:c,res:u}of o.anchors.values())i(u,c);return typeof r=="function"?xt(r,{"":a},"",a):a}}class Ln extends Ms{constructor(e){super($s),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return it(e,{Node:(s,i)=>{if(i===this)return it.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:i,maxAliasCount:r}=n,o=this.resolve(i);if(!o){const c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=s.get(o);if(a||(Me(o,null,n),a=s.get(o)),!a||a.res===void 0){const c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=An(i,o,s)),a.count*a.aliasCount>r)){const c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,n,s){const i=`*${this.source}`;if(e){if(ur(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}}function An(t,e,n){if(dt(e)){const s=e.resolve(t),i=n&&s&&n.get(s);return i?i.count*i.aliasCount:0}else if(ne(e)){let s=0;for(const i of e.items){const r=An(t,i,n);r>s&&(s=r)}return s}else if(ee(e)){const s=An(t,e.key,n),i=An(t,e.value,n);return Math.max(s,i)}return 1}const hr=t=>!t||typeof t!="function"&&typeof t!="object";class Q extends Ms{constructor(e){super(He),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:Me(this.value,e,n)}toString(){return String(this.value)}}Q.BLOCK_FOLDED="BLOCK_FOLDED",Q.BLOCK_LITERAL="BLOCK_LITERAL",Q.PLAIN="PLAIN",Q.QUOTE_DOUBLE="QUOTE_DOUBLE",Q.QUOTE_SINGLE="QUOTE_SINGLE";const sl="tag:yaml.org,2002:";function il(t,e,n){if(e){const s=n.filter(r=>r.tag===e),i=s.find(r=>!r.format)??s[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(s=>{var i;return((i=s.identify)==null?void 0:i.call(s,t))&&!s.format})}function on(t,e,n){var f,p,g;if(At(t)&&(t=t.contents),ie(t))return t;if(ee(t)){const b=(p=(f=n.schema[st]).createNode)==null?void 0:p.call(f,n.schema,null,n);return b.items.push(t),b}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:i,onTagObj:r,schema:o,sourceObjects:a}=n;let c;if(s&&t&&typeof t=="object"){if(c=a.get(t),c)return c.anchor||(c.anchor=i(t)),new Ln(c.anchor);c={anchor:null,node:null},a.set(t,c)}e!=null&&e.startsWith("!!")&&(e=sl+e.slice(2));let u=il(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const b=new Q(t);return c&&(c.node=b),b}u=t instanceof Map?o[st]:Symbol.iterator in Object(t)?o[Lt]:o[st]}r&&(r(u),delete n.onTagObj);const h=u!=null&&u.createNode?u.createNode(n.schema,t,n):typeof((g=u==null?void 0:u.nodeClass)==null?void 0:g.from)=="function"?u.nodeClass.from(n.schema,t,n):new Q(t);return e?h.tag=e:u.default||(h.tag=u.tag),c&&(c.node=h),h}function In(t,e,n){let s=n;for(let i=e.length-1;i>=0;--i){const r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const o=[];o[r]=s,s=o}else s=new Map([[r,s]])}return on(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const an=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Ps extends Ms{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>ie(s)||ee(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(an(e))this.add(n);else{const[s,...i]=e,r=this.get(s,!0);if(ne(r))r.addIn(i,n);else if(r===void 0&&this.schema)this.set(s,In(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const i=this.get(n,!0);if(ne(i))return i.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...i]=e,r=this.get(s,!0);return i.length===0?!n&&Z(r)?r.value:r:ne(r)?r.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!ee(n))return!1;const s=n.value;return s==null||e&&Z(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const i=this.get(n,!0);return ne(i)?i.hasIn(s):!1}setIn(e,n){const[s,...i]=e;if(i.length===0)this.set(s,n);else{const r=this.get(s,!0);if(ne(r))r.setIn(i,n);else if(r===void 0&&this.schema)this.set(s,In(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}}Ps.maxFlowStringSingleLineLength=60;const rl=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function We(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const ht=(t,e,n)=>t.endsWith(`
`)?We(n,e):n.includes(`
`)?`
`+We(n,e):(t.endsWith(" ")?"":" ")+n,pr="flow",Bs="block",Vn="quoted";function Dn(t,e,n="flow",{indentAtStart:s,lineWidth:i=80,minContentWidth:r=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;const c=Math.max(1+r,1+i-e.length);if(t.length<=c)return t;const u=[],h={};let f=i-e.length;typeof s=="number"&&(s>i-Math.max(2,r)?u.push(0):f=i-s);let p,g,b=!1,m=-1,y=-1,k=-1;n===Bs&&(m=mr(t,m,e.length),m!==-1&&(f=m+c));for(let _;_=t[m+=1];){if(n===Vn&&_==="\\"){switch(y=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}k=m}if(_===`
`)n===Bs&&(m=mr(t,m,e.length)),f=m+e.length+c,p=void 0;else{if(_===" "&&g&&g!==" "&&g!==`
`&&g!=="	"){const I=t[m+1];I&&I!==" "&&I!==`
`&&I!=="	"&&(p=m)}if(m>=f)if(p)u.push(p),f=p+c,p=void 0;else if(n===Vn){for(;g===" "||g==="	";)g=_,_=t[m+=1],b=!0;const I=m>k+1?m-2:y-1;if(h[I])return t;u.push(I),h[I]=!0,f=I+c,p=void 0}else b=!0}g=_}if(b&&a&&a(),u.length===0)return t;o&&o();let N=t.slice(0,u[0]);for(let _=0;_<u.length;++_){const I=u[_],L=u[_+1]||t.length;I===0?N=`
${e}${t.slice(0,L)}`:(n===Vn&&h[I]&&(N+=`${t[I]}\\`),N+=`
${e}${t.slice(I+1,L)}`)}return N}function mr(t,e,n){let s=e,i=e+1,r=t[i];for(;r===" "||r==="	";)if(e<i+n)r=t[++e];else{do r=t[++e];while(r&&r!==`
`);s=e,i=e+1,r=t[i]}return s}const $n=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),xn=t=>/^(%|---|\.\.\.)/m.test(t);function ol(t,e,n){if(!e||e<0)return!1;const s=e-n,i=t.length;if(i<=s)return!1;for(let r=0,o=0;r<i;++r)if(t[r]===`
`){if(r-o>s)return!0;if(o=r+1,i-o<=s)return!1}return!0}function ln(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(xn(t)?"  ":"");let o="",a=0;for(let c=0,u=n[c];u;u=n[++c])if(u===" "&&n[c+1]==="\\"&&n[c+2]==="n"&&(o+=n.slice(a,c)+"\\ ",c+=1,a=c,u="\\"),u==="\\")switch(n[c+1]){case"u":{o+=n.slice(a,c);const h=n.substr(c+2,4);switch(h){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:h.substr(0,2)==="00"?o+="\\x"+h.substr(2):o+=n.substr(c,6)}c+=5,a=c+1}break;case"n":if(s||n[c+2]==='"'||n.length<i)c+=1;else{for(o+=n.slice(a,c)+`

`;n[c+2]==="\\"&&n[c+3]==="n"&&n[c+4]!=='"';)o+=`
`,c+=2;o+=r,n[c+2]===" "&&(o+="\\"),c+=1,a=c+1}break;default:c+=1}return o=a?o+n.slice(a):n,s?o:Dn(o,r,Vn,$n(e,!1))}function Rs(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return ln(t,e);const n=e.indent||(xn(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:Dn(s,n,pr,$n(e,!1))}function Mt(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=ln;else{const i=t.includes('"'),r=t.includes("'");i&&!r?s=Rs:r&&!i?s=ln:s=n?Rs:ln}return s(t,e)}let js;try{js=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{js=/\n+(?!\n|$)/g}function Mn({comment:t,type:e,value:n},s,i,r){const{blockQuote:o,commentString:a,lineWidth:c}=s.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Mt(n,s);const u=s.indent||(s.forceBlockIndent||xn(n)?"  ":""),h=o==="literal"?!0:o==="folded"||e===Q.BLOCK_FOLDED?!1:e===Q.BLOCK_LITERAL?!0:!ol(n,c,u.length);if(!n)return h?`|
`:`>
`;let f,p;for(p=n.length;p>0;--p){const A=n[p-1];if(A!==`
`&&A!=="	"&&A!==" ")break}let g=n.substring(p);const b=g.indexOf(`
`);b===-1?f="-":n===g||b!==g.length-1?(f="+",r&&r()):f="",g&&(n=n.slice(0,-g.length),g[g.length-1]===`
`&&(g=g.slice(0,-1)),g=g.replace(js,`$&${u}`));let m=!1,y,k=-1;for(y=0;y<n.length;++y){const A=n[y];if(A===" ")m=!0;else if(A===`
`)k=y;else break}let N=n.substring(0,k<y?k+1:y);N&&(n=n.substring(N.length),N=N.replace(/\n+/g,`$&${u}`));let I=(h?"|":">")+(m?u?"2":"1":"")+f;if(t&&(I+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),h)return n=n.replace(/\n+/g,`$&${u}`),`${I}
${u}${N}${n}${g}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);const L=Dn(`${N}${n}${g}`,u,Bs,$n(s,!0));return`${I}
${u}${L}`}function al(t,e,n,s){const{type:i,value:r}=t,{actualString:o,implicitKey:a,indent:c,indentStep:u,inFlow:h}=e;if(a&&r.includes(`
`)||h&&/[[\]{},]/.test(r))return Mt(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||h||!r.includes(`
`)?Mt(r,e):Mn(t,e,n,s);if(!a&&!h&&i!==Q.PLAIN&&r.includes(`
`))return Mn(t,e,n,s);if(xn(r)){if(c==="")return e.forceBlockIndent=!0,Mn(t,e,n,s);if(a&&c===u)return Mt(r,e)}const f=r.replace(/\n+/g,`$&
${c}`);if(o){const p=m=>{var y;return m.default&&m.tag!=="tag:yaml.org,2002:str"&&((y=m.test)==null?void 0:y.test(f))},{compat:g,tags:b}=e.doc.schema;if(b.some(p)||g!=null&&g.some(p))return Mt(r,e)}return a?f:Dn(f,c,pr,$n(e,!1))}function cn(t,e,n,s){const{implicitKey:i,inFlow:r}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==Q.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Q.QUOTE_DOUBLE);const c=h=>{switch(h){case Q.BLOCK_FOLDED:case Q.BLOCK_LITERAL:return i||r?Mt(o.value,e):Mn(o,e,n,s);case Q.QUOTE_DOUBLE:return ln(o.value,e);case Q.QUOTE_SINGLE:return Rs(o.value,e);case Q.PLAIN:return al(o,e,n,s);default:return null}};let u=c(a);if(u===null){const{defaultKeyType:h,defaultStringType:f}=e.options,p=i&&h||f;if(u=c(p),u===null)throw new Error(`Unsupported default string type ${p}`)}return u}function gr(t,e){const n=Object.assign({blockQuote:!0,commentString:rl,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function ll(t,e){var i;if(e.tag){const r=t.filter(o=>o.tag===e.tag);if(r.length>0)return r.find(o=>o.format===e.format)??r[0]}let n,s;if(Z(e)){s=e.value;const r=t.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,s)});n=r.find(o=>o.format===e.format)??r.find(o=>!o.format)}else s=e,n=t.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!n){const r=((i=s==null?void 0:s.constructor)==null?void 0:i.name)??typeof s;throw new Error(`Tag not resolved for ${r} value`)}return n}function cl(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const i=[],r=(Z(t)||ne(t))&&t.anchor;r&&ur(r)&&(n.add(r),i.push(`&${r}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&i.push(s.directives.tagString(o)),i.join(" ")}function Pt(t,e,n,s){var c;if(ee(t))return t.toString(e,n,s);if(dt(t)){if(e.doc.directives)return t.toString(e);if((c=e.resolvedAliases)!=null&&c.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const r=ie(t)?t:e.doc.createNode(t,{onTagObj:u=>i=u});i||(i=ll(e.doc.schema.tags,r));const o=cl(r,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(r,e,n,s):Z(r)?cn(r,e,n,s):r.toString(e,n,s);return o?Z(r)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function ul({key:t,value:e},n,s,i){const{allNullValues:r,doc:o,indent:a,indentStep:c,options:{commentString:u,indentSeq:h,simpleKeys:f}}=n;let p=ie(t)&&t.comment||null;if(f){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(ne(t)||!ie(t)&&typeof t=="object"){const q="With simple keys, collection cannot be used as a key value";throw new Error(q)}}let g=!f&&(!t||p&&e==null&&!n.inFlow||ne(t)||(Z(t)?t.type===Q.BLOCK_FOLDED||t.type===Q.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!g&&(f||!r),indent:a+c});let b=!1,m=!1,y=Pt(t,n,()=>b=!0,()=>m=!0);if(!g&&!n.inFlow&&y.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");g=!0}if(n.inFlow){if(r||e==null)return b&&s&&s(),y===""?"?":g?`? ${y}`:y}else if(r&&!f||e==null&&g)return y=`? ${y}`,p&&!b?y+=ht(y,n.indent,u(p)):m&&i&&i(),y;b&&(p=null),g?(p&&(y+=ht(y,n.indent,u(p))),y=`? ${y}
${a}:`):(y=`${y}:`,p&&(y+=ht(y,n.indent,u(p))));let k,N,_;ie(e)?(k=!!e.spaceBefore,N=e.commentBefore,_=e.comment):(k=!1,N=null,_=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!g&&!p&&Z(e)&&(n.indentAtStart=y.length+1),m=!1,!h&&c.length>=2&&!n.inFlow&&!g&&Vt(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let I=!1;const L=Pt(e,n,()=>I=!0,()=>m=!0);let A=" ";if(p||k||N){if(A=k?`
`:"",N){const q=u(N);A+=`
${We(q,n.indent)}`}L===""&&!n.inFlow?A===`
`&&(A=`

`):A+=`
${n.indent}`}else if(!g&&ne(e)){const q=L[0],v=L.indexOf(`
`),$=v!==-1,B=n.inFlow??e.flow??e.items.length===0;if($||!B){let j=!1;if($&&(q==="&"||q==="!")){let U=L.indexOf(" ");q==="&"&&U!==-1&&U<v&&L[U+1]==="!"&&(U=L.indexOf(" ",U+1)),(U===-1||v<U)&&(j=!0)}j||(A=`
${n.indent}`)}}else(L===""||L[0]===`
`)&&(A="");return y+=A+L,n.inFlow?I&&s&&s():_&&!I?y+=ht(y,n.indent,u(_)):m&&i&&i(),y}function yr(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const br="<<";function wr(t,e,{key:n,value:s}){if(t!=null&&t.doc.schema.merge&&fl(n))if(s=dt(s)?s.resolve(t.doc):s,Vt(s))for(const i of s.items)Fs(t,e,i);else if(Array.isArray(s))for(const i of s)Fs(t,e,i);else Fs(t,e,s);else{const i=Me(n,"",t);if(e instanceof Map)e.set(i,Me(s,i,t));else if(e instanceof Set)e.add(i);else{const r=dl(n,i,t),o=Me(s,r,t);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}const fl=t=>t===br||Z(t)&&t.value===br&&(!t.type||t.type===Q.PLAIN);function Fs(t,e,n){const s=t&&dt(n)?n.resolve(t.doc):n;if(!It(s))throw new Error("Merge sources must be maps or map aliases");const i=s.toJSON(null,t,Map);for(const[r,o]of i)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function dl(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(ie(t)&&(n!=null&&n.doc)){const s=gr(n.doc,{});s.anchors=new Set;for(const r of n.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const i=t.toString(s);if(!n.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),yr(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function Us(t,e,n){const s=on(t,void 0,n),i=on(e,void 0,n);return new de(s,i)}class de{constructor(e,n=null){Object.defineProperty(this,xe,{value:rr}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return ie(n)&&(n=n.clone(e)),ie(s)&&(s=s.clone(e)),new de(n,s)}toJSON(e,n){const s=n!=null&&n.mapAsMap?new Map:{};return wr(n,s,this)}toString(e,n,s){return e!=null&&e.doc?ul(this,e,n,s):JSON.stringify(this)}}function kr(t,e,n){return(e.inFlow??t.flow?pl:hl)(t,e,n)}function hl({comment:t,items:e},n,{blockItemPrefix:s,flowChars:i,itemIndent:r,onChompKeep:o,onComment:a}){const{indent:c,options:{commentString:u}}=n,h=Object.assign({},n,{indent:r,type:null});let f=!1;const p=[];for(let b=0;b<e.length;++b){const m=e[b];let y=null;if(ie(m))!f&&m.spaceBefore&&p.push(""),Pn(n,p,m.commentBefore,f),m.comment&&(y=m.comment);else if(ee(m)){const N=ie(m.key)?m.key:null;N&&(!f&&N.spaceBefore&&p.push(""),Pn(n,p,N.commentBefore,f))}f=!1;let k=Pt(m,h,()=>y=null,()=>f=!0);y&&(k+=ht(k,r,u(y))),f&&y&&(f=!1),p.push(s+k)}let g;if(p.length===0)g=i.start+i.end;else{g=p[0];for(let b=1;b<p.length;++b){const m=p[b];g+=m?`
${c}${m}`:`
`}}return t?(g+=`
`+We(u(t),c),a&&a()):f&&o&&o(),g}function pl({items:t},e,{flowChars:n,itemIndent:s}){const{indent:i,indentStep:r,flowCollectionPadding:o,options:{commentString:a}}=e;s+=r;const c=Object.assign({},e,{indent:s,inFlow:!0,type:null});let u=!1,h=0;const f=[];for(let b=0;b<t.length;++b){const m=t[b];let y=null;if(ie(m))m.spaceBefore&&f.push(""),Pn(e,f,m.commentBefore,!1),m.comment&&(y=m.comment);else if(ee(m)){const N=ie(m.key)?m.key:null;N&&(N.spaceBefore&&f.push(""),Pn(e,f,N.commentBefore,!1),N.comment&&(u=!0));const _=ie(m.value)?m.value:null;_?(_.comment&&(y=_.comment),_.commentBefore&&(u=!0)):m.value==null&&(N!=null&&N.comment)&&(y=N.comment)}y&&(u=!0);let k=Pt(m,c,()=>y=null);b<t.length-1&&(k+=","),y&&(k+=ht(k,s,a(y))),!u&&(f.length>h||k.includes(`
`))&&(u=!0),f.push(k),h=f.length}const{start:p,end:g}=n;if(f.length===0)return p+g;if(!u){const b=f.reduce((m,y)=>m+y.length+2,2);u=e.options.lineWidth>0&&b>e.options.lineWidth}if(u){let b=p;for(const m of f)b+=m?`
${r}${i}${m}`:`
`;return`${b}
${i}${g}`}else return`${p}${o}${f.join(" ")}${o}${g}`}function Pn({indent:t,options:{commentString:e}},n,s,i){if(s&&i&&(s=s.replace(/^\n+/,"")),s){const r=We(e(s),t);n.push(r.trimStart())}}function pt(t,e){const n=Z(e)?e.value:e;for(const s of t)if(ee(s)&&(s.key===e||s.key===n||Z(s.key)&&s.key.value===n))return s}class Ie extends Ps{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(st,e),this.items=[]}static from(e,n,s){const{keepUndefined:i,replacer:r}=s,o=new this(e),a=(c,u)=>{if(typeof r=="function")u=r.call(n,c,u);else if(Array.isArray(r)&&!r.includes(c))return;(u!==void 0||i)&&o.items.push(Us(c,u,s))};if(n instanceof Map)for(const[c,u]of n)a(c,u);else if(n&&typeof n=="object")for(const c of Object.keys(n))a(c,n[c]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){var o;let s;ee(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new de(e,e==null?void 0:e.value):s=new de(e.key,e.value);const i=pt(this.items,s.key),r=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${s.key} already set`);Z(i.value)&&hr(s.value)?i.value.value=s.value:i.value=s.value}else if(r){const a=this.items.findIndex(c=>r(s,c)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=pt(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=pt(this.items,e),i=s==null?void 0:s.value;return(!n&&Z(i)?i.value:i)??void 0}has(e){return!!pt(this.items,e)}set(e,n){this.add(new de(e,n),!0)}toJSON(e,n,s){const i=s?new s:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const r of this.items)wr(n,i,r);return i}toString(e,n,s){if(!e)return JSON.stringify(this);for(const i of this.items)if(!ee(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),kr(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}const Bt={collection:"map",default:!0,nodeClass:Ie,tag:"tag:yaml.org,2002:map",resolve(t,e){return It(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Ie.from(t,e,n)};class rt extends Ps{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Lt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=Bn(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=Bn(e);if(typeof s!="number")return;const i=this.items[s];return!n&&Z(i)?i.value:i}has(e){const n=Bn(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=Bn(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[s];Z(i)&&hr(n)?i.value=n:this.items[s]=n}toJSON(e,n){const s=[];n!=null&&n.onCreate&&n.onCreate(s);let i=0;for(const r of this.items)s.push(Me(r,String(i++),n));return s}toString(e,n,s){return e?kr(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:i}=s,r=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof i=="function"){const c=n instanceof Set?a:String(o++);a=i.call(n,c,a)}r.items.push(on(a,void 0,s))}}return r}}function Bn(t){let e=Z(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Rt={collection:"seq",default:!0,nodeClass:rt,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Vt(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>rt.from(t,e,n)},Rn={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),cn(t,e,n,s)}},jn={identify:t=>t==null,createNode:()=>new Q(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Q(null),stringify:({source:t},e)=>typeof t=="string"&&jn.test.test(t)?t:e.options.nullStr},Ks={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Q(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Ks.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function je({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const i=typeof s=="number"?s:Number(s);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let a=e-(r.length-o-1);for(;a-- >0;)r+="0"}return r}const vr={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:je},Sr={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():je(t)}},_r={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Q(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:je},Fn=t=>typeof t=="bigint"||Number.isInteger(t),Ys=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function Or(t,e,n){const{value:s}=t;return Fn(s)&&s>=0?n+s.toString(e):je(t)}const Er={identify:t=>Fn(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Ys(t,2,8,n),stringify:t=>Or(t,8,"0o")},Nr={identify:Fn,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Ys(t,0,10,n),stringify:je},Cr={identify:t=>Fn(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Ys(t,2,16,n),stringify:t=>Or(t,16,"0x")},ml=[Bt,Rt,Rn,jn,Ks,Er,Nr,Cr,vr,Sr,_r];function Tr(t){return typeof t=="bigint"||Number.isInteger(t)}const Un=({value:t})=>JSON.stringify(t),gl=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Un},{identify:t=>t==null,createNode:()=>new Q(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Un},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Un},{identify:Tr,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>Tr(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Un}],yl={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},bl=[Bt,Rt].concat(gl,yl),qs={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,i,r){const o=n;let a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Q.BLOCK_LITERAL),e!==Q.QUOTE_DOUBLE){const c=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),u=Math.ceil(a.length/c),h=new Array(u);for(let f=0,p=0;f<u;++f,p+=c)h[f]=a.substr(p,c);a=h.join(e===Q.BLOCK_LITERAL?`
`:" ")}return cn({comment:t,type:e,value:a},s,i,r)}};function Lr(t,e){if(Vt(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!ee(s)){if(It(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const i=s.items[0]||new de(new Q(null));if(s.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${s.commentBefore}
${i.key.commentBefore}`:s.commentBefore),s.comment){const r=i.value??i.key;r.comment=r.comment?`${s.comment}
${r.comment}`:s.comment}s=i}t.items[n]=ee(s)?s:new de(s)}}else e("Expected a sequence for this tag");return t}function Ar(t,e,n){const{replacer:s}=n,i=new rt(t);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(r++),o));let a,c;if(Array.isArray(o))if(o.length===2)a=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)a=u[0],c=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;i.items.push(Us(a,c,n))}return i}const Gs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Lr,createNode:Ar};class jt extends rt{constructor(){super(),this.add=Ie.prototype.add.bind(this),this.delete=Ie.prototype.delete.bind(this),this.get=Ie.prototype.get.bind(this),this.has=Ie.prototype.has.bind(this),this.set=Ie.prototype.set.bind(this),this.tag=jt.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items){let r,o;if(ee(i)?(r=Me(i.key,"",n),o=Me(i.value,r,n)):r=Me(i,"",n),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,o)}return s}static from(e,n,s){const i=Ar(e,n,s),r=new this;return r.items=i.items,r}}jt.tag="tag:yaml.org,2002:omap";const Qs={collection:"seq",identify:t=>t instanceof Map,nodeClass:jt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=Lr(t,e),s=[];for(const{key:i}of n.items)Z(i)&&(s.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new jt,n)},createNode:(t,e,n)=>jt.from(t,e,n)};function Ir({value:t,source:e},n){return e&&(t?Vr:Dr).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Vr={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Q(!0),stringify:Ir},Dr={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Q(!1),stringify:Ir},wl={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:je},kl={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():je(t)}},vl={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Q(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:je},un=t=>typeof t=="bigint"||Number.isInteger(t);function Kn(t,e,n,{intAsBigInt:s}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return i==="-"?BigInt(-1)*o:o}const r=parseInt(t,n);return i==="-"?-1*r:r}function Hs(t,e,n){const{value:s}=t;if(un(s)){const i=s.toString(e);return s<0?"-"+n+i.substr(1):n+i}return je(t)}const Sl={identify:un,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Kn(t,2,2,n),stringify:t=>Hs(t,2,"0b")},_l={identify:un,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Kn(t,1,8,n),stringify:t=>Hs(t,8,"0")},Ol={identify:un,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Kn(t,0,10,n),stringify:je},El={identify:un,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Kn(t,2,16,n),stringify:t=>Hs(t,16,"0x")};class Ft extends Ie{constructor(e){super(e),this.tag=Ft.tag}add(e){let n;ee(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new de(e.key,null):n=new de(e,null),pt(this.items,n.key)||this.items.push(n)}get(e,n){const s=pt(this.items,e);return!n&&ee(s)?Z(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=pt(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new de(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:i}=s,r=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),r.items.push(Us(o,null,s));return r}}Ft.tag="tag:yaml.org,2002:set";const Ws={collection:"map",identify:t=>t instanceof Set,nodeClass:Ft,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>Ft.from(t,e,n),resolve(t,e){if(It(t)){if(t.hasAllNullValues(!0))return Object.assign(new Ft,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function zs(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),r=s.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*r:r}function $r(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return je(t);let s="";e<0&&(s="-",e*=n(-1));const i=n(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),s+r.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const xr={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>zs(t,n),stringify:$r},Mr={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>zs(t,!1),stringify:$r},Yn={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(Yn.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,i,r,o,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0;let u=Date.UTC(n,s-1,i,r||0,o||0,a||0,c);const h=e[8];if(h&&h!=="Z"){let f=zs(h,!1);Math.abs(f)<30&&(f*=60),u-=6e4*f}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Pr=[Bt,Rt,Rn,jn,Vr,Dr,Sl,_l,Ol,El,wl,kl,vl,qs,Qs,Gs,Ws,xr,Mr,Yn],Br=new Map([["core",ml],["failsafe",[Bt,Rt,Rn]],["json",bl],["yaml11",Pr],["yaml-1.1",Pr]]),Rr={binary:qs,bool:Ks,float:_r,floatExp:Sr,floatNaN:vr,floatTime:Mr,int:Nr,intHex:Cr,intOct:Er,intTime:xr,map:Bt,null:jn,omap:Qs,pairs:Gs,seq:Rt,set:Ws,timestamp:Yn},Nl={"tag:yaml.org,2002:binary":qs,"tag:yaml.org,2002:omap":Qs,"tag:yaml.org,2002:pairs":Gs,"tag:yaml.org,2002:set":Ws,"tag:yaml.org,2002:timestamp":Yn};function Xs(t,e){let n=Br.get(e);if(!n)if(Array.isArray(t))n=[];else{const s=Array.from(Br.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(const s of t)n=n.concat(s);else typeof t=="function"&&(n=t(n.slice()));return n.map(s=>{if(typeof s!="string")return s;const i=Rr[s];if(i)return i;const r=Object.keys(Rr).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${r}`)})}const Cl=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class qn{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:i,schema:r,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Xs(e,"compat"):e?Xs(null,e):null,this.merge=!!s,this.name=typeof r=="string"&&r||"core",this.knownTags=i?Nl:{},this.tags=Xs(n,this.name),this.toStringOptions=a??null,Object.defineProperty(this,st,{value:Bt}),Object.defineProperty(this,He,{value:Rn}),Object.defineProperty(this,Lt,{value:Rt}),this.sortMapEntries=typeof o=="function"?o:o===!0?Cl:null}clone(){const e=Object.create(qn.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Tl(t,e){var c;const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const u=t.directives.toString(t);u?(n.push(u),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const i=gr(t,e),{commentString:r}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const u=r(t.commentBefore);n.unshift(We(u,""))}let o=!1,a=null;if(t.contents){if(ie(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const f=r(t.contents.commentBefore);n.push(We(f,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}const u=a?void 0:()=>o=!0;let h=Pt(t.contents,i,()=>a=null,u);a&&(h+=ht(h,"",r(a))),(h[0]==="|"||h[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${h}`:n.push(h)}else n.push(Pt(t.contents,i));if((c=t.directives)!=null&&c.docEnd)if(t.comment){const u=r(t.comment);u.includes(`
`)?(n.push("..."),n.push(We(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=t.comment;u&&o&&(u=u.replace(/^\n+/,"")),u&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(We(r(u),"")))}return n.join(`
`)+`
`}class Ut{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,xe,{value:xs});let i=null;typeof n=="function"||Array.isArray(n)?i=n:s===void 0&&n&&(s=n,n=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=r;let{version:o}=r;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new ye({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,i,s)}clone(){const e=Object.create(Ut.prototype,{[xe]:{value:xs}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=ie(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Kt(this.contents)&&this.contents.add(e)}addIn(e,n){Kt(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=fr(this);e.anchor=!n||s.has(n)?dr(n||"a",s):n}return new Ln(e.anchor)}createNode(e,n,s){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const y=N=>typeof N=="number"||N instanceof String||N instanceof Number,k=n.filter(y).map(String);k.length>0&&(n=n.concat(k)),i=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:u,tag:h}=s??{},{onAnchor:f,setAnchors:p,sourceObjects:g}=nl(this,o||"a"),b={aliasDuplicateObjects:r??!0,keepUndefined:c??!1,onAnchor:f,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:g},m=on(e,h,b);return a&&ne(m)&&(m.flow=!0),p(),m}createPair(e,n,s={}){const i=this.createNode(e,null,s),r=this.createNode(n,null,s);return new de(i,r)}delete(e){return Kt(this.contents)?this.contents.delete(e):!1}deleteIn(e){return an(e)?this.contents==null?!1:(this.contents=null,!0):Kt(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return ne(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return an(e)?!n&&Z(this.contents)?this.contents.value:this.contents:ne(this.contents)?this.contents.getIn(e,n):void 0}has(e){return ne(this.contents)?this.contents.has(e):!1}hasIn(e){return an(e)?this.contents!==void 0:ne(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=In(this.schema,[e],n):Kt(this.contents)&&this.contents.set(e,n)}setIn(e,n){an(e)?this.contents=n:this.contents==null?this.contents=In(this.schema,Array.from(e),n):Kt(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ye({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new ye({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new qn(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:i,onAnchor:r,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},c=Me(this.contents,n??"",a);if(typeof r=="function")for(const{count:u,res:h}of a.anchors.values())r(h,u);return typeof o=="function"?xt(o,{"":c},"",c):c}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Tl(this,e)}}function Kt(t){if(ne(t))return!0;throw new Error("Expected a YAML collection as document contents")}class Js extends Error{constructor(e,n,s,i){super(),this.name=e,this.code=s,this.message=i,this.pos=n}}class mt extends Js{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class jr extends Js{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const Gn=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:s,col:i}=n.linePos[0];n.message+=` at line ${s}, column ${i}`;let r=i-1,o=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(r>=60&&o.length>80){const a=Math.min(r-39,o.length-79);o="…"+o.substring(a),r-=a-1}if(o.length>80&&(o=o.substring(0,79)+"…"),s>1&&/^ *$/.test(o.substring(0,r))){let a=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`…
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const c=n.linePos[1];c&&c.line===s&&c.col>i&&(a=Math.max(1,Math.min(c.col-i,80-r)));const u=" ".repeat(r)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};function Yt(t,{flow:e,indicator:n,next:s,offset:i,onError:r,parentIndent:o,startOnNewline:a}){let c=!1,u=a,h=a,f="",p="",g=!1,b=!1,m=!1,y=null,k=null,N=null,_=null,I=null,L=null;for(const v of t)switch(m&&(v.type!=="space"&&v.type!=="newline"&&v.type!=="comma"&&r(v.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),y&&(u&&v.type!=="comment"&&v.type!=="newline"&&r(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),v.type){case"space":!e&&(n!=="doc-start"||(s==null?void 0:s.type)!=="flow-collection")&&v.source.includes("	")&&(y=v),h=!0;break;case"comment":{h||r(v,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const $=v.source.substring(1)||" ";f?f+=p+$:f=$,p="",u=!1;break}case"newline":u?f?f+=v.source:c=!0:p+=v.source,u=!0,g=!0,(k||N)&&(b=!0),h=!0;break;case"anchor":k&&r(v,"MULTIPLE_ANCHORS","A node can have at most one anchor"),v.source.endsWith(":")&&r(v.offset+v.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),k=v,L===null&&(L=v.offset),u=!1,h=!1,m=!0;break;case"tag":{N&&r(v,"MULTIPLE_TAGS","A node can have at most one tag"),N=v,L===null&&(L=v.offset),u=!1,h=!1,m=!0;break}case n:(k||N)&&r(v,"BAD_PROP_ORDER",`Anchors and tags must be after the ${v.source} indicator`),I&&r(v,"UNEXPECTED_TOKEN",`Unexpected ${v.source} in ${e??"collection"}`),I=v,u=n==="seq-item-ind"||n==="explicit-key-ind",h=!1;break;case"comma":if(e){_&&r(v,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),_=v,u=!1,h=!1;break}default:r(v,"UNEXPECTED_TOKEN",`Unexpected ${v.type} token`),u=!1,h=!1}const A=t[t.length-1],q=A?A.offset+A.source.length:i;return m&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&r(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(u&&y.indent<=o||(s==null?void 0:s.type)==="block-map"||(s==null?void 0:s.type)==="block-seq")&&r(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:_,found:I,spaceBefore:c,comment:f,hasNewline:g,hasNewlineAfterProp:b,anchor:k,tag:N,end:q,start:L??q}}function fn(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(fn(e.key)||fn(e.value))return!0}return!1;default:return!0}}function Zs(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&fn(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Fr(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const i=typeof s=="function"?s:(r,o)=>r===o||Z(r)&&Z(o)&&r.value===o.value&&!(r.value==="<<"&&t.schema.merge);return e.some(r=>i(r.key,n))}const Ur="All mapping items must start at the same column";function Ll({composeNode:t,composeEmptyNode:e},n,s,i,r){var h;const o=(r==null?void 0:r.nodeClass)??Ie,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let c=s.offset,u=null;for(const f of s.items){const{start:p,key:g,sep:b,value:m}=f,y=Yt(p,{indicator:"explicit-key-ind",next:g??(b==null?void 0:b[0]),offset:c,onError:i,parentIndent:s.indent,startOnNewline:!0}),k=!y.found;if(k){if(g&&(g.type==="block-seq"?i(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==s.indent&&i(c,"BAD_INDENT",Ur)),!y.anchor&&!y.tag&&!b){u=y.end,y.comment&&(a.comment?a.comment+=`
`+y.comment:a.comment=y.comment);continue}(y.hasNewlineAfterProp||fn(g))&&i(g??p[p.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((h=y.found)==null?void 0:h.indent)!==s.indent&&i(c,"BAD_INDENT",Ur);const N=y.end,_=g?t(n,g,y,i):e(n,N,p,null,y,i);n.schema.compat&&Zs(s.indent,g,i),Fr(n,a.items,_)&&i(N,"DUPLICATE_KEY","Map keys must be unique");const I=Yt(b??[],{indicator:"map-value-ind",next:m,offset:_.range[2],onError:i,parentIndent:s.indent,startOnNewline:!g||g.type==="block-scalar"});if(c=I.end,I.found){k&&((m==null?void 0:m.type)==="block-map"&&!I.hasNewline&&i(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&y.start<I.found.offset-1024&&i(_.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const L=m?t(n,m,I,i):e(n,c,b,null,I,i);n.schema.compat&&Zs(s.indent,m,i),c=L.range[2];const A=new de(_,L);n.options.keepSourceTokens&&(A.srcToken=f),a.items.push(A)}else{k&&i(_.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),I.comment&&(_.comment?_.comment+=`
`+I.comment:_.comment=I.comment);const L=new de(_);n.options.keepSourceTokens&&(L.srcToken=f),a.items.push(L)}}return u&&u<c&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,c,u??c],a}function Al({composeNode:t,composeEmptyNode:e},n,s,i,r){const o=(r==null?void 0:r.nodeClass)??rt,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let c=s.offset,u=null;for(const{start:h,value:f}of s.items){const p=Yt(h,{indicator:"seq-item-ind",next:f,offset:c,onError:i,parentIndent:s.indent,startOnNewline:!0});if(!p.found)if(p.anchor||p.tag||f)f&&f.type==="block-seq"?i(p.end,"BAD_INDENT","All sequence items must start at the same column"):i(c,"MISSING_CHAR","Sequence item without - indicator");else{u=p.end,p.comment&&(a.comment=p.comment);continue}const g=f?t(n,f,p,i):e(n,p.end,h,null,p,i);n.schema.compat&&Zs(s.indent,f,i),c=g.range[2],a.items.push(g)}return a.range=[s.offset,c,u??c],a}function dn(t,e,n,s){let i="";if(t){let r=!1,o="";for(const a of t){const{source:c,type:u}=a;switch(u){case"space":r=!0;break;case"comment":{n&&!r&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const h=c.substring(1)||" ";i?i+=o+h:i=h,o="";break}case"newline":i&&(o+=c),r=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=c.length}}return{comment:i,offset:e}}const ei="Block collections are not allowed within flow collections",ti=t=>t&&(t.type==="block-map"||t.type==="block-seq");function Il({composeNode:t,composeEmptyNode:e},n,s,i,r){const o=s.start.source==="{",a=o?"flow map":"flow sequence",c=(r==null?void 0:r.nodeClass)??(o?Ie:rt),u=new c(n.schema);u.flow=!0;const h=n.atRoot;h&&(n.atRoot=!1);let f=s.offset+s.start.source.length;for(let y=0;y<s.items.length;++y){const k=s.items[y],{start:N,key:_,sep:I,value:L}=k,A=Yt(N,{flow:a,indicator:"explicit-key-ind",next:_??(I==null?void 0:I[0]),offset:f,onError:i,parentIndent:s.indent,startOnNewline:!1});if(!A.found){if(!A.anchor&&!A.tag&&!I&&!L){y===0&&A.comma?i(A.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):y<s.items.length-1&&i(A.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),A.comment&&(u.comment?u.comment+=`
`+A.comment:u.comment=A.comment),f=A.end;continue}!o&&n.options.strict&&fn(_)&&i(_,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(y===0)A.comma&&i(A.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(A.comma||i(A.start,"MISSING_CHAR",`Missing , between ${a} items`),A.comment){let q="";e:for(const v of N)switch(v.type){case"comma":case"space":break;case"comment":q=v.source.substring(1);break e;default:break e}if(q){let v=u.items[u.items.length-1];ee(v)&&(v=v.value??v.key),v.comment?v.comment+=`
`+q:v.comment=q,A.comment=A.comment.substring(q.length+1)}}if(!o&&!I&&!A.found){const q=L?t(n,L,A,i):e(n,A.end,I,null,A,i);u.items.push(q),f=q.range[2],ti(L)&&i(q.range,"BLOCK_IN_FLOW",ei)}else{const q=A.end,v=_?t(n,_,A,i):e(n,q,N,null,A,i);ti(_)&&i(v.range,"BLOCK_IN_FLOW",ei);const $=Yt(I??[],{flow:a,indicator:"map-value-ind",next:L,offset:v.range[2],onError:i,parentIndent:s.indent,startOnNewline:!1});if($.found){if(!o&&!A.found&&n.options.strict){if(I)for(const U of I){if(U===$.found)break;if(U.type==="newline"){i(U,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}A.start<$.found.offset-1024&&i($.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else L&&("source"in L&&L.source&&L.source[0]===":"?i(L,"MISSING_CHAR",`Missing space after : in ${a}`):i($.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const B=L?t(n,L,$,i):$.found?e(n,$.end,I,null,$,i):null;B?ti(L)&&i(B.range,"BLOCK_IN_FLOW",ei):$.comment&&(v.comment?v.comment+=`
`+$.comment:v.comment=$.comment);const j=new de(v,B);if(n.options.keepSourceTokens&&(j.srcToken=k),o){const U=u;Fr(n,U.items,v)&&i(q,"DUPLICATE_KEY","Map keys must be unique"),U.items.push(j)}else{const U=new Ie(n.schema);U.flow=!0,U.items.push(j),u.items.push(U)}f=B?B.range[2]:$.end}}const p=o?"}":"]",[g,...b]=s.end;let m=f;if(g&&g.source===p)m=g.offset+g.source.length;else{const y=a[0].toUpperCase()+a.substring(1),k=h?`${y} must end with a ${p}`:`${y} in block collection must be sufficiently indented and end with a ${p}`;i(f,h?"MISSING_CHAR":"BAD_INDENT",k),g&&g.source.length!==1&&b.unshift(g)}if(b.length>0){const y=dn(b,m,n.options.strict,i);y.comment&&(u.comment?u.comment+=`
`+y.comment:u.comment=y.comment),u.range=[s.offset,m,y.offset]}else u.range=[s.offset,m,m];return u}function ni(t,e,n,s,i,r){const o=n.type==="block-map"?Ll(t,e,n,s,r):n.type==="block-seq"?Al(t,e,n,s,r):Il(t,e,n,s,r),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function Vl(t,e,n,s,i){var f;const r=s?e.directives.tagName(s.source,p=>i(s,"TAG_RESOLVE_FAILED",p)):null,o=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!r||r==="!"||r===Ie.tagName&&o==="map"||r===rt.tagName&&o==="seq"||!o)return ni(t,e,n,i,r);let a=e.schema.tags.find(p=>p.tag===r&&p.collection===o);if(!a){const p=e.schema.knownTags[r];if(p&&p.collection===o)e.schema.tags.push(Object.assign({},p,{default:!1})),a=p;else return p!=null&&p.collection?i(s,"BAD_COLLECTION_TYPE",`${p.tag} used for ${o} collection, but expects ${p.collection}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,!0),ni(t,e,n,i,r)}const c=ni(t,e,n,i,r,a),u=((f=a.resolve)==null?void 0:f.call(a,c,p=>i(s,"TAG_RESOLVE_FAILED",p),e.options))??c,h=ie(u)?u:new Q(u);return h.range=c.range,h.tag=r,a!=null&&a.format&&(h.format=a.format),h}function Kr(t,e,n){const s=e.offset,i=Dl(e,t.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[s,s,s]};const r=i.mode===">"?Q.BLOCK_FOLDED:Q.BLOCK_LITERAL,o=e.source?$l(e.source):[];let a=o.length;for(let m=o.length-1;m>=0;--m){const y=o[m][1];if(y===""||y==="\r")a=m;else break}if(a===0){const m=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let y=s+i.length;return e.source&&(y+=e.source.length),{value:m,type:r,comment:i.comment,range:[s,y,y]}}let c=e.indent+i.indent,u=e.offset+i.length,h=0;for(let m=0;m<a;++m){const[y,k]=o[m];if(k===""||k==="\r")i.indent===0&&y.length>c&&(c=y.length);else{y.length<c&&n(u+y.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(c=y.length),h=m,c===0&&!t.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=y.length+k.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>c&&(a=m+1);let f="",p="",g=!1;for(let m=0;m<h;++m)f+=o[m][0].slice(c)+`
`;for(let m=h;m<a;++m){let[y,k]=o[m];u+=y.length+k.length+1;const N=k[k.length-1]==="\r";if(N&&(k=k.slice(0,-1)),k&&y.length<c){const I=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-k.length-(N?2:1),"BAD_INDENT",I),y=""}r===Q.BLOCK_LITERAL?(f+=p+y.slice(c)+k,p=`
`):y.length>c||k[0]==="	"?(p===" "?p=`
`:!g&&p===`
`&&(p=`

`),f+=p+y.slice(c)+k,p=`
`,g=!0):k===""?p===`
`?f+=`
`:p=`
`:(f+=p+k,p=" ",g=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)f+=`
`+o[m][0].slice(c);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const b=s+i.length+e.source.length;return{value:f,type:r,comment:i.comment,range:[s,b,b]}}function Dl({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],r=i[0];let o=0,a="",c=-1;for(let p=1;p<i.length;++p){const g=i[p];if(!a&&(g==="-"||g==="+"))a=g;else{const b=Number(g);!o&&b?o=b:c===-1&&(c=t+p)}}c!==-1&&s(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,h="",f=i.length;for(let p=1;p<e.length;++p){const g=e[p];switch(g.type){case"space":u=!0;case"newline":f+=g.source.length;break;case"comment":n&&!u&&s(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=g.source.length,h=g.source.substring(1);break;case"error":s(g,"UNEXPECTED_TOKEN",g.message),f+=g.source.length;break;default:{const b=`Unexpected token in block scalar header: ${g.type}`;s(g,"UNEXPECTED_TOKEN",b);const m=g.source;m&&typeof m=="string"&&(f+=m.length)}}}return{mode:r,indent:o,chomp:a,comment:h,length:f}}function $l(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),r=[s!=null&&s[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)r.push([e[o],e[o+1]]);return r}function Yr(t,e,n){const{offset:s,type:i,source:r,end:o}=t;let a,c;const u=(p,g,b)=>n(s+p,g,b);switch(i){case"scalar":a=Q.PLAIN,c=xl(r,u);break;case"single-quoted-scalar":a=Q.QUOTE_SINGLE,c=Ml(r,u);break;case"double-quoted-scalar":a=Q.QUOTE_DOUBLE,c=Pl(r,u);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[s,s+r.length,s+r.length]}}const h=s+r.length,f=dn(o,h,e,n);return{value:c,type:a,comment:f.comment,range:[s,h,f.offset]}}function xl(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),qr(t)}function Ml(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),qr(t.slice(1,-1)).replace(/''/g,"'")}function qr(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let i=s[1],r=" ",o=e.lastIndex;for(n.lastIndex=o;s=n.exec(t);)s[1]===""?r===`
`?i+=r:r=`
`:(i+=r+s[1],r=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(t),i+r+((s==null?void 0:s[1])??"")}function Pl(t,e){let n="";for(let s=1;s<t.length-1;++s){const i=t[s];if(!(i==="\r"&&t[s+1]===`
`))if(i===`
`){const{fold:r,offset:o}=Bl(t,s);n+=r,s=o}else if(i==="\\"){let r=t[++s];const o=Rl[r];if(o)n+=o;else if(r===`
`)for(r=t[s+1];r===" "||r==="	";)r=t[++s+1];else if(r==="\r"&&t[s+1]===`
`)for(r=t[++s+1];r===" "||r==="	";)r=t[++s+1];else if(r==="x"||r==="u"||r==="U"){const a={x:2,u:4,U:8}[r];n+=jl(t,s+1,a,e),s+=a}else{const a=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const r=s;let o=t[s+1];for(;o===" "||o==="	";)o=t[++s+1];o!==`
`&&!(o==="\r"&&t[s+2]===`
`)&&(n+=s>r?t.slice(r,s+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function Bl(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(n+=`
`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const Rl={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function jl(t,e,n,s){const i=t.substr(e,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function Gr(t,e,n,s){const{value:i,type:r,comment:o,range:a}=e.type==="block-scalar"?Kr(t,e,s):Yr(e,t.options.strict,s),c=n?t.directives.tagName(n.source,f=>s(n,"TAG_RESOLVE_FAILED",f)):null,u=n&&c?Fl(t.schema,i,c,n,s):e.type==="scalar"?Ul(t,i,e,s):t.schema[He];let h;try{const f=u.resolve(i,p=>s(n??e,"TAG_RESOLVE_FAILED",p),t.options);h=Z(f)?f:new Q(f)}catch(f){const p=f instanceof Error?f.message:String(f);s(n??e,"TAG_RESOLVE_FAILED",p),h=new Q(i)}return h.range=a,h.source=i,r&&(h.type=r),c&&(h.tag=c),u.format&&(h.format=u.format),o&&(h.comment=o),h}function Fl(t,e,n,s,i){var a;if(n==="!")return t[He];const r=[];for(const c of t.tags)if(!c.collection&&c.tag===n)if(c.default&&c.test)r.push(c);else return c;for(const c of r)if((a=c.test)!=null&&a.test(e))return c;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[He])}function Ul({directives:t,schema:e},n,s,i){const r=e.tags.find(o=>{var a;return o.default&&((a=o.test)==null?void 0:a.test(n))})||e[He];if(e.compat){const o=e.compat.find(a=>{var c;return a.default&&((c=a.test)==null?void 0:c.test(n))})??e[He];if(r.tag!==o.tag){const a=t.tagString(r.tag),c=t.tagString(o.tag),u=`Value may be parsed as either ${a} or ${c}`;i(s,"TAG_RESOLVE_FAILED",u,!0)}}return r}function Kl(t,e,n){if(e){n===null&&(n=e.length);for(let s=n-1;s>=0;--s){let i=e[s];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++s];(i==null?void 0:i.type)==="space";)t+=i.source.length,i=e[++s];break}}return t}const Yl={composeNode:Qr,composeEmptyNode:si};function Qr(t,e,n,s){const{spaceBefore:i,comment:r,anchor:o,tag:a}=n;let c,u=!0;switch(e.type){case"alias":c=ql(t,e,s),(o||a)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Gr(t,e,a,s),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=Vl(Yl,t,e,a,s),o&&(c.anchor=o.source.substring(1));break;default:{const h=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",h),c=si(t,e.offset,void 0,null,n,s),u=!1}}return o&&c.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),r&&(e.type==="scalar"&&e.source===""?c.comment=r:c.commentBefore=r),t.options.keepSourceTokens&&u&&(c.srcToken=e),c}function si(t,e,n,s,{spaceBefore:i,comment:r,anchor:o,tag:a,end:c},u){const h={type:"scalar",offset:Kl(e,n,s),indent:-1,source:""},f=Gr(t,h,a,u);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(f.spaceBefore=!0),r&&(f.comment=r,f.range[2]=c),f}function ql({options:t},{offset:e,source:n,end:s},i){const r=new Ln(n.substring(1));r.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=dn(s,o,t.strict,i);return r.range=[e,o,a.offset],a.comment&&(r.comment=a.comment),r}function Gl(t,e,{offset:n,start:s,value:i,end:r},o){const a=Object.assign({_directives:e},t),c=new Ut(void 0,a),u={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},h=Yt(s,{indicator:"doc-start",next:i??(r==null?void 0:r[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});h.found&&(c.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!h.hasNewline&&o(h.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?Qr(u,i,h,o):si(u,h.end,s,null,h,o);const f=c.contents.range[2],p=dn(r,f,!1,o);return p.comment&&(c.comment=p.comment),c.range=[n,f,p.offset],c}function hn(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function Hr(t){var i;let e="",n=!1,s=!1;for(let r=0;r<t.length;++r){const o=t[r];switch(o[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(o.substring(1)||" "),n=!0,s=!1;break;case"%":((i=t[r+1])==null?void 0:i[0])!=="#"&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class ii{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,i,r)=>{const o=hn(n);r?this.warnings.push(new jr(o,s,i)):this.errors.push(new mt(o,s,i))},this.directives=new ye({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:i}=Hr(this.prelude);if(s){const r=e.contents;if(n)e.comment=e.comment?`${e.comment}
${s}`:s;else if(i||e.directives.docStart||!r)e.commentBefore=s;else if(ne(r)&&!r.flow&&r.items.length>0){let o=r.items[0];ee(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}
${a}`:s}else{const o=r.commentBefore;r.commentBefore=o?`${s}
${o}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Hr(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const i of e)yield*this.next(i);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,i)=>{const r=hn(e);r[0]+=n,this.onError(r,"BAD_DIRECTIVE",s,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=Gl(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new mt(hn(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new mt(hn(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=dn(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new mt(hn(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),i=new Ut(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function Ql(t,e=!0,n){if(t){const s=(i,r,o)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,r,o);else throw new mt([a,a+1],r,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Yr(t,e,s);case"block-scalar":return Kr({options:{strict:e}},t,s)}}return null}function Hl(t,e){const{implicitKey:n=!1,indent:s,inFlow:i=!1,offset:r=-1,type:o="PLAIN"}=e,a=cn({type:o,value:t},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),c=e.end??[{type:"newline",offset:-1,indent:s,source:`
`}];switch(a[0]){case"|":case">":{const u=a.indexOf(`
`),h=a.substring(0,u),f=a.substring(u+1)+`
`,p=[{type:"block-scalar-header",offset:r,indent:s,source:h}];return Wr(p,c)||p.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:r,indent:s,props:p,source:f}}case'"':return{type:"double-quoted-scalar",offset:r,indent:s,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:r,indent:s,source:a,end:c};default:return{type:"scalar",offset:r,indent:s,source:a,end:c}}}function Wl(t,e,n={}){let{afterKey:s=!1,implicitKey:i=!1,inFlow:r=!1,type:o}=n,a="indent"in t?t.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const u=t.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const c=cn({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":zl(t,c);break;case'"':ri(t,c,"double-quoted-scalar");break;case"'":ri(t,c,"single-quoted-scalar");break;default:ri(t,c,"scalar")}}function zl(t,e){const n=e.indexOf(`
`),s=e.substring(0,n),i=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const r=t.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=s,t.source=i}else{const{offset:r}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:r,indent:o,source:s}];Wr(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(const c of Object.keys(t))c!=="type"&&c!=="offset"&&delete t[c];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:i})}}function Wr(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function ri(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const s=t.props.slice(1);let i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(const r of s)r.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:s});break}case"block-map":case"block-seq":{const i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[i]});break}default:{const s="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(const r of Object.keys(t))r!=="type"&&r!=="offset"&&delete t[r];Object.assign(t,{type:n,indent:s,source:e,end:i})}}}const Xl=t=>"type"in t?Qn(t):Hn(t);function Qn(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=Qn(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=Hn(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=Hn(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=Hn(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function Hn({start:t,key:e,sep:n,value:s}){let i="";for(const r of t)i+=r.source;if(e&&(i+=Qn(e)),n)for(const r of n)i+=r.source;return s&&(i+=Qn(s)),i}const oi=Symbol("break visit"),Jl=Symbol("skip children"),zr=Symbol("remove item");function gt(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),Xr(Object.freeze([]),t,e)}gt.BREAK=oi,gt.SKIP=Jl,gt.REMOVE=zr,gt.itemAtPath=(t,e)=>{let n=t;for(const[s,i]of e){const r=n==null?void 0:n[s];if(r&&"items"in r)n=r.items[i];else return}return n},gt.parentCollection=(t,e)=>{const n=gt.itemAtPath(t,e.slice(0,-1)),s=e[e.length-1][0],i=n==null?void 0:n[s];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Xr(t,e,n){let s=n(e,t);if(typeof s=="symbol")return s;for(const i of["key","value"]){const r=e[i];if(r&&"items"in r){for(let o=0;o<r.items.length;++o){const a=Xr(Object.freeze(t.concat([[i,o]])),r.items[o],n);if(typeof a=="number")o=a-1;else{if(a===oi)return oi;a===zr&&(r.items.splice(o,1),o-=1)}}typeof s=="function"&&i==="key"&&(s=s(e,t))}}return typeof s=="function"?s(e,t):s}const Wn="\uFEFF",zn="",Xn="",pn="",Zl=t=>!!t&&"items"in t,ec=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function tc(t){switch(t){case Wn:return"<BOM>";case zn:return"<DOC>";case Xn:return"<FLOW_END>";case pn:return"<SCALAR>";default:return JSON.stringify(t)}}function Jr(t){switch(t){case Wn:return"byte-order-mark";case zn:return"doc-mode";case Xn:return"flow-error-end";case pn:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const nc=Object.freeze(Object.defineProperty({__proto__:null,BOM:Wn,DOCUMENT:zn,FLOW_END:Xn,SCALAR:pn,createScalarToken:Hl,isCollection:Zl,isScalar:ec,prettyToken:tc,resolveAsScalar:Ql,setScalarValue:Wl,stringify:Xl,tokenType:Jr,visit:gt},Symbol.toStringTag,{value:"Module"}));function Pe(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Zr=new Set("0123456789ABCDEFabcdef"),sc=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Jn=new Set(",[]{}"),ic=new Set(` ,[]{}
\r	`),ai=t=>!t||ic.has(t);class eo{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\r"){const i=this.buffer[s+e+1];if(i===`
`||!i&&!this.atEnd)return e+s+1}return n===`
`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&Pe(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Wn&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,s=e.indexOf("#");for(;s!==-1;){const r=e[s-1];if(r===" "||r==="	"){n=s-1;break}else s=e.indexOf("#",s+1)}for(;;){const r=e[n-1];if(r===" "||r==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield zn,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&Pe(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&Pe(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Pe(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Pe(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ai),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&i[0]!=="#"||s===0&&(i.startsWith("---")||i.startsWith("..."))&&Pe(i[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Xn,yield*this.parseLineStart();let r=0;for(;i[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),i[r]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ai),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Pe(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let r=0;for(;this.buffer[n-1-r]==="\\";)r+=1;if(r%2===0)break;n=this.buffer.indexOf('"',n+1)}const s=this.buffer.substring(0,n);let i=s.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const r=this.continueScalar(i+1);if(r===-1)break;i=s.indexOf(`
`,r)}i!==-1&&(n=i-(s[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Pe(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let r=this.pos;s=this.buffer[r];++r)switch(s){case" ":n+=1;break;case`
`:e=r,n=0;break;case"\r":{const o=this.buffer[r+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(s=this.buffer[i];s===" ";)s=this.buffer[++i];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let r=e-1,o=this.buffer[r];o==="\r"&&(o=this.buffer[--r]);const a=r;for(;o===" ";)o=this.buffer[--r];if(o===`
`&&r>=this.pos&&r+1+n>a)e=r;else break}while(!0);return yield pn,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,i;for(;i=this.buffer[++s];)if(i===":"){const r=this.buffer[s+1];if(Pe(r)||e&&Jn.has(r))break;n=s}else if(Pe(i)){let r=this.buffer[s+1];if(i==="\r"&&(r===`
`?(s+=1,i=`
`,r=this.buffer[s+1]):n=s),r==="#"||e&&Jn.has(r))break;if(i===`
`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&Jn.has(i))break;n=s}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield pn,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ai))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Pe(n)||e&&Jn.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Pe(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(sc.has(n))n=this.buffer[++e];else if(n==="%"&&Zr.has(this.buffer[e+1])&&Zr.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class to{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const r=n+s>>1;this.lineStarts[r]<e?n=r+1:s=r}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}}function yt(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function no(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function so(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Zn(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function qt(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function io(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!yt(e.start,"explicit-key-ind")&&!yt(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,so(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class li{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new eo,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=Jr(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&io(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const i=s.items[s.items.length-1];if(i.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=s.items[s.items.length-1];i.value?s.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=s.items[s.items.length-1];!i||i.value?s.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&no(i.start)===-1&&(n.indent===0||i.start.every(r=>r.type!=="comment"||r.indent<n.indent))&&(s.type==="document"?s.end=i.start:s.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{no(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Zn(this.peek(2)),s=qt(n);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent,r=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(r&&n.sep&&!n.value){const a=[];for(let c=0;c<n.sep.length;++c){const u=n.sep[c];switch(u.type){case"newline":a.push(c);break;case"space":break;case"comment":u.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):r||n.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(yt(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(so(n.key)&&!yt(n.sep,"newline")){const a=qt(n.start),c=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:c,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(yt(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=qt(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:o,key:null,sep:[this.sourceToken]}):yt(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);r||n.value?(e.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){i&&a.type!=="block-seq"&&e.items.push({start:o}),this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||yt(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const i=Zn(s),r=qt(i);io(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Zn(e),s=qt(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Zn(e),s=qt(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function ro(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new to||null,prettyErrors:e}}function rc(t,e={}){const{lineCounter:n,prettyErrors:s}=ro(e),i=new li(n==null?void 0:n.addNewLine),r=new ii(e),o=Array.from(r.compose(i.parse(t)));if(s&&n)for(const a of o)a.errors.forEach(Gn(t,n)),a.warnings.forEach(Gn(t,n));return o.length>0?o:Object.assign([],{empty:!0},r.streamInfo())}function oo(t,e={}){const{lineCounter:n,prettyErrors:s}=ro(e),i=new li(n==null?void 0:n.addNewLine),r=new ii(e);let o=null;for(const a of r.compose(i.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new mt(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(o.errors.forEach(Gn(t,n)),o.warnings.forEach(Gn(t,n))),o}function oc(t,e,n){let s;typeof e=="function"?s=e:n===void 0&&e&&typeof e=="object"&&(n=e);const i=oo(t,n);if(!i)return null;if(i.warnings.forEach(r=>yr(i.options.logLevel,r)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:s},n))}function ac(t,e,n){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){const{keepUndefined:i}=n??e??{};if(!i)return}return new Ut(t,s,n).toString(n)}const ao=Object.freeze(Object.defineProperty({__proto__:null,Alias:Ln,CST:nc,Composer:ii,Document:Ut,Lexer:eo,LineCounter:to,Pair:de,Parser:li,Scalar:Q,Schema:qn,YAMLError:Js,YAMLMap:Ie,YAMLParseError:mt,YAMLSeq:rt,YAMLWarning:jr,isAlias:dt,isCollection:ne,isDocument:At,isMap:It,isNode:ie,isPair:ee,isScalar:Z,isSeq:Vt,parse:oc,parseAllDocuments:rc,parseDocument:oo,stringify:ac,visit:it,visitAsync:Tn},Symbol.toStringTag,{value:"Module"})),lc={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},cc=[l.createElementVNode("path",{fill:"currentColor",d:"m13.06 8.111l1.415 1.414a7 7 0 0 1 0 9.9l-.354.353a7 7 0 1 1-9.9-9.9l1.415 1.415a5 5 0 1 0 7.071 7.071l.354-.354a5 5 0 0 0 0-7.07l-1.415-1.415zm6.718 6.01l-1.414-1.414a5 5 0 0 0-7.071-7.07l-.354.353a5 5 0 0 0 0 7.07l1.415 1.415l-1.415 1.414l-1.414-1.414a7 7 0 0 1 0-9.9l.354-.353a7 7 0 1 1 9.9 9.9"},null,-1)];function uc(t,e){return l.openBlock(),l.createElementBlock("svg",lc,[...cc])}const lo={name:"ri-links-line",render:uc};var es={exports:{}};es.exports,function(t,e){var n=200,s="__lodash_hash_undefined__",i=9007199254740991,r="[object Arguments]",o="[object Array]",a="[object Boolean]",c="[object Date]",u="[object Error]",h="[object Function]",f="[object GeneratorFunction]",p="[object Map]",g="[object Number]",b="[object Object]",m="[object Promise]",y="[object RegExp]",k="[object Set]",N="[object String]",_="[object Symbol]",I="[object WeakMap]",L="[object ArrayBuffer]",A="[object DataView]",q="[object Float32Array]",v="[object Float64Array]",$="[object Int8Array]",B="[object Int16Array]",j="[object Int32Array]",U="[object Uint8Array]",R="[object Uint8ClampedArray]",S="[object Uint16Array]",O="[object Uint32Array]",C=/[\\^$.*+?()[\]{}|]/g,x=/\w*$/,D=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,T={};T[r]=T[o]=T[L]=T[A]=T[a]=T[c]=T[q]=T[v]=T[$]=T[B]=T[j]=T[p]=T[g]=T[b]=T[y]=T[k]=T[N]=T[_]=T[U]=T[R]=T[S]=T[O]=!0,T[u]=T[h]=T[I]=!1;var W=typeof ft=="object"&&ft&&ft.Object===Object&&ft,z=typeof self=="object"&&self&&self.Object===Object&&self,H=W||z||Function("return this")(),oe=e&&!e.nodeType&&e,we=oe&&!0&&t&&!t.nodeType&&t,ct=we&&we.exports===oe;function Ze(d,w){return d.set(w[0],w[1]),d}function vt(d,w){return d.add(w),d}function et(d,w){for(var E=-1,F=d?d.length:0;++E<F&&w(d[E],E,d)!==!1;);return d}function pe(d,w){for(var E=-1,F=w.length,fe=d.length;++E<F;)d[fe+E]=w[E];return d}function Ke(d,w,E,F){for(var fe=-1,Le=d?d.length:0;++fe<Le;)E=w(E,d[fe],fe,d);return E}function St(d,w){for(var E=-1,F=Array(d);++E<d;)F[E]=w(E);return F}function en(d,w){return d==null?void 0:d[w]}function Ho(d){var w=!1;if(d!=null&&typeof d.toString!="function")try{w=!!(d+"")}catch{}return w}function Wo(d){var w=-1,E=Array(d.size);return d.forEach(function(F,fe){E[++w]=[fe,F]}),E}function Li(d,w){return function(E){return d(w(E))}}function zo(d){var w=-1,E=Array(d.size);return d.forEach(function(F){E[++w]=F}),E}var Ku=Array.prototype,Yu=Function.prototype,bs=Object.prototype,Ai=H["__core-js_shared__"],Xo=function(){var d=/[^.]+$/.exec(Ai&&Ai.keys&&Ai.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Jo=Yu.toString,ut=bs.hasOwnProperty,ws=bs.toString,qu=RegExp("^"+Jo.call(ut).replace(C,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zo=ct?H.Buffer:void 0,ea=H.Symbol,ta=H.Uint8Array,Gu=Li(Object.getPrototypeOf,Object),Qu=Object.create,Hu=bs.propertyIsEnumerable,Wu=Ku.splice,na=Object.getOwnPropertySymbols,zu=Zo?Zo.isBuffer:void 0,Xu=Li(Object.keys,Object),Ii=sn(H,"DataView"),En=sn(H,"Map"),Vi=sn(H,"Promise"),Di=sn(H,"Set"),$i=sn(H,"WeakMap"),Nn=sn(Object,"create"),Ju=Et(Ii),Zu=Et(En),ef=Et(Vi),tf=Et(Di),nf=Et($i),sa=ea?ea.prototype:void 0,ia=sa?sa.valueOf:void 0;function _t(d){var w=-1,E=d?d.length:0;for(this.clear();++w<E;){var F=d[w];this.set(F[0],F[1])}}function sf(){this.__data__=Nn?Nn(null):{}}function rf(d){return this.has(d)&&delete this.__data__[d]}function of(d){var w=this.__data__;if(Nn){var E=w[d];return E===s?void 0:E}return ut.call(w,d)?w[d]:void 0}function af(d){var w=this.__data__;return Nn?w[d]!==void 0:ut.call(w,d)}function lf(d,w){var E=this.__data__;return E[d]=Nn&&w===void 0?s:w,this}_t.prototype.clear=sf,_t.prototype.delete=rf,_t.prototype.get=of,_t.prototype.has=af,_t.prototype.set=lf;function tt(d){var w=-1,E=d?d.length:0;for(this.clear();++w<E;){var F=d[w];this.set(F[0],F[1])}}function cf(){this.__data__=[]}function uf(d){var w=this.__data__,E=ks(w,d);if(E<0)return!1;var F=w.length-1;return E==F?w.pop():Wu.call(w,E,1),!0}function ff(d){var w=this.__data__,E=ks(w,d);return E<0?void 0:w[E][1]}function df(d){return ks(this.__data__,d)>-1}function hf(d,w){var E=this.__data__,F=ks(E,d);return F<0?E.push([d,w]):E[F][1]=w,this}tt.prototype.clear=cf,tt.prototype.delete=uf,tt.prototype.get=ff,tt.prototype.has=df,tt.prototype.set=hf;function tn(d){var w=-1,E=d?d.length:0;for(this.clear();++w<E;){var F=d[w];this.set(F[0],F[1])}}function pf(){this.__data__={hash:new _t,map:new(En||tt),string:new _t}}function mf(d){return vs(this,d).delete(d)}function gf(d){return vs(this,d).get(d)}function yf(d){return vs(this,d).has(d)}function bf(d,w){return vs(this,d).set(d,w),this}tn.prototype.clear=pf,tn.prototype.delete=mf,tn.prototype.get=gf,tn.prototype.has=yf,tn.prototype.set=bf;function nn(d){this.__data__=new tt(d)}function wf(){this.__data__=new tt}function kf(d){return this.__data__.delete(d)}function vf(d){return this.__data__.get(d)}function Sf(d){return this.__data__.has(d)}function _f(d,w){var E=this.__data__;if(E instanceof tt){var F=E.__data__;if(!En||F.length<n-1)return F.push([d,w]),this;E=this.__data__=new tn(F)}return E.set(d,w),this}nn.prototype.clear=wf,nn.prototype.delete=kf,nn.prototype.get=vf,nn.prototype.has=Sf,nn.prototype.set=_f;function Of(d,w){var E=Pi(d)||Hf(d)?St(d.length,String):[],F=E.length,fe=!!F;for(var Le in d)ut.call(d,Le)&&!(fe&&(Le=="length"||Yf(Le,F)))&&E.push(Le);return E}function ra(d,w,E){var F=d[w];(!(ut.call(d,w)&&ca(F,E))||E===void 0&&!(w in d))&&(d[w]=E)}function ks(d,w){for(var E=d.length;E--;)if(ca(d[E][0],w))return E;return-1}function Ef(d,w){return d&&oa(w,Bi(w),d)}function xi(d,w,E,F,fe,Le,nt){var Ae;if(F&&(Ae=Le?F(d,fe,Le,nt):F(d)),Ae!==void 0)return Ae;if(!Ss(d))return d;var da=Pi(d);if(da){if(Ae=Ff(d),!w)return Bf(d,Ae)}else{var rn=Ot(d),ha=rn==h||rn==f;if(zf(d))return If(d,w);if(rn==b||rn==r||ha&&!Le){if(Ho(d))return Le?d:{};if(Ae=Uf(ha?{}:d),!w)return Rf(d,Ef(Ae,d))}else{if(!T[rn])return Le?d:{};Ae=Kf(d,rn,xi,w)}}nt||(nt=new nn);var pa=nt.get(d);if(pa)return pa;if(nt.set(d,Ae),!da)var ma=E?jf(d):Bi(d);return et(ma||d,function(Ri,_s){ma&&(_s=Ri,Ri=d[_s]),ra(Ae,_s,xi(Ri,w,E,F,_s,d,nt))}),Ae}function Nf(d){return Ss(d)?Qu(d):{}}function Cf(d,w,E){var F=w(d);return Pi(d)?F:pe(F,E(d))}function Tf(d){return ws.call(d)}function Lf(d){if(!Ss(d)||Gf(d))return!1;var w=fa(d)||Ho(d)?qu:D;return w.test(Et(d))}function Af(d){if(!la(d))return Xu(d);var w=[];for(var E in Object(d))ut.call(d,E)&&E!="constructor"&&w.push(E);return w}function If(d,w){if(w)return d.slice();var E=new d.constructor(d.length);return d.copy(E),E}function Mi(d){var w=new d.constructor(d.byteLength);return new ta(w).set(new ta(d)),w}function Vf(d,w){var E=w?Mi(d.buffer):d.buffer;return new d.constructor(E,d.byteOffset,d.byteLength)}function Df(d,w,E){var F=w?E(Wo(d),!0):Wo(d);return Ke(F,Ze,new d.constructor)}function $f(d){var w=new d.constructor(d.source,x.exec(d));return w.lastIndex=d.lastIndex,w}function xf(d,w,E){var F=w?E(zo(d),!0):zo(d);return Ke(F,vt,new d.constructor)}function Mf(d){return ia?Object(ia.call(d)):{}}function Pf(d,w){var E=w?Mi(d.buffer):d.buffer;return new d.constructor(E,d.byteOffset,d.length)}function Bf(d,w){var E=-1,F=d.length;for(w||(w=Array(F));++E<F;)w[E]=d[E];return w}function oa(d,w,E,F){E||(E={});for(var fe=-1,Le=w.length;++fe<Le;){var nt=w[fe],Ae=void 0;ra(E,nt,Ae===void 0?d[nt]:Ae)}return E}function Rf(d,w){return oa(d,aa(d),w)}function jf(d){return Cf(d,Bi,aa)}function vs(d,w){var E=d.__data__;return qf(w)?E[typeof w=="string"?"string":"hash"]:E.map}function sn(d,w){var E=en(d,w);return Lf(E)?E:void 0}var aa=na?Li(na,Object):Zf,Ot=Tf;(Ii&&Ot(new Ii(new ArrayBuffer(1)))!=A||En&&Ot(new En)!=p||Vi&&Ot(Vi.resolve())!=m||Di&&Ot(new Di)!=k||$i&&Ot(new $i)!=I)&&(Ot=function(d){var w=ws.call(d),E=w==b?d.constructor:void 0,F=E?Et(E):void 0;if(F)switch(F){case Ju:return A;case Zu:return p;case ef:return m;case tf:return k;case nf:return I}return w});function Ff(d){var w=d.length,E=d.constructor(w);return w&&typeof d[0]=="string"&&ut.call(d,"index")&&(E.index=d.index,E.input=d.input),E}function Uf(d){return typeof d.constructor=="function"&&!la(d)?Nf(Gu(d)):{}}function Kf(d,w,E,F){var fe=d.constructor;switch(w){case L:return Mi(d);case a:case c:return new fe(+d);case A:return Vf(d,F);case q:case v:case $:case B:case j:case U:case R:case S:case O:return Pf(d,F);case p:return Df(d,F,E);case g:case N:return new fe(d);case y:return $f(d);case k:return xf(d,F,E);case _:return Mf(d)}}function Yf(d,w){return w=w??i,!!w&&(typeof d=="number"||P.test(d))&&d>-1&&d%1==0&&d<w}function qf(d){var w=typeof d;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?d!=="__proto__":d===null}function Gf(d){return!!Xo&&Xo in d}function la(d){var w=d&&d.constructor,E=typeof w=="function"&&w.prototype||bs;return d===E}function Et(d){if(d!=null){try{return Jo.call(d)}catch{}try{return d+""}catch{}}return""}function Qf(d){return xi(d,!0,!0)}function ca(d,w){return d===w||d!==d&&w!==w}function Hf(d){return Wf(d)&&ut.call(d,"callee")&&(!Hu.call(d,"callee")||ws.call(d)==r)}var Pi=Array.isArray;function ua(d){return d!=null&&Xf(d.length)&&!fa(d)}function Wf(d){return Jf(d)&&ua(d)}var zf=zu||ed;function fa(d){var w=Ss(d)?ws.call(d):"";return w==h||w==f}function Xf(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=i}function Ss(d){var w=typeof d;return!!d&&(w=="object"||w=="function")}function Jf(d){return!!d&&typeof d=="object"}function Bi(d){return ua(d)?Of(d):Af(d)}function Zf(){return[]}function ed(){return!1}t.exports=Qf}(es,es.exports);var fc=es.exports;const Gt=Vs(fc),ci=t=>(l.pushScopeId("data-v-52eb705d"),t=t(),l.popScopeId(),t),dc={class:"md:grid md:grid-cols-4 md:gap-6"},hc=ci(()=>l.createElementVNode("div",{class:"md:col-span-1"},[l.createElementVNode("div",{class:"sticky top-0"},[l.createElementVNode("span",{class:"text-base text-gray-900 font-medium"}," 常规 ")])],-1)),pc={class:"mt-5 md:col-span-3 md:mt-0 divide-y divide-gray-100"},mc=ci(()=>l.createElementVNode("div",{class:"py-5"},[l.createElementVNode("div",{class:"border-t border-gray-200"})],-1)),gc={class:"md:grid md:grid-cols-4 md:gap-6"},yc=ci(()=>l.createElementVNode("div",{class:"md:col-span-1"},[l.createElementVNode("div",{class:"sticky top-0"},[l.createElementVNode("span",{class:"text-base text-gray-900 font-medium"}," 元数据 ")])],-1)),bc={class:"mt-5 md:col-span-3 md:mt-0 divide-y divide-gray-100"},wc=l.defineComponent({__name:"GroupEditingModal",props:{visible:{type:Boolean,default:!1},group:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,s=e,i={apiVersion:"core.halo.run/v1alpha1",kind:"LinkGroup",metadata:{name:"",generateName:"link-group-"},spec:{displayName:"",priority:0,links:[]}},r=l.ref(Gt(i)),o=l.ref(!1),a=l.ref(!1),c=l.computed(()=>!!r.value.metadata.creationTimestamp),u=l.computed(()=>c.value?"编辑分组":"新建分组"),h=l.ref(),f=async()=>{var k;(k=h.value)==null||k.handleSubmit(),await l.nextTick();const{customAnnotations:g,annotations:b,customFormInvalid:m,specFormInvalid:y}=h.value||{};if(!(m||y)){r.value.metadata.annotations={...b,...g};try{o.value=!0,c.value?await ge.group.updateLinkGroup({name:r.value.metadata.name,linkGroup:r.value}):await ge.group.createLinkGroup({linkGroup:r.value}),M.Toast.success("保存成功"),p(!1)}catch(N){console.error("Failed to create link group",N)}finally{o.value=!1}}},p=g=>{s("update:visible",g),g||s("close")};return l.watch(()=>n.visible,g=>{g?(n.group&&(r.value=Gt(n.group)),a.value=!0):setTimeout(()=>{a.value=!1,r.value=Gt(i)},200)}),(g,b)=>{const m=l.resolveComponent("FormKit"),y=l.resolveComponent("AnnotationsForm");return l.openBlock(),l.createBlock(l.unref(M.VModal),{visible:g.visible,width:600,title:u.value,"onUpdate:visible":p},{footer:l.withCtx(()=>[l.createVNode(l.unref(M.VSpace),null,{default:l.withCtx(()=>[l.createVNode(l.unref(M.VButton),{loading:o.value,type:"secondary",onClick:b[1]||(b[1]=k=>g.$formkit.submit("link-group-form"))},{default:l.withCtx(()=>[l.createTextVNode(" 提交 ")]),_:1},8,["loading"]),l.createVNode(l.unref(M.VButton),{onClick:b[2]||(b[2]=k=>p(!1))},{default:l.withCtx(()=>[l.createTextVNode(" 取消")]),_:1})]),_:1})]),default:l.withCtx(()=>[a.value?(l.openBlock(),l.createBlock(m,{key:0,id:"link-group-form",modelValue:r.value.spec,"onUpdate:modelValue":b[0]||(b[0]=k=>r.value.spec=k),name:"link-group-form",type:"form",config:{validationVisibility:"submit"},onSubmit:f},{default:l.withCtx(()=>[l.createElementVNode("div",dc,[hc,l.createElementVNode("div",pc,[l.createVNode(m,{name:"displayName",label:"分组名称",type:"text",validation:"required"})])])]),_:1},8,["modelValue"])):l.createCommentVNode("",!0),mc,l.createElementVNode("div",gc,[yc,l.createElementVNode("div",bc,[g.visible?(l.openBlock(),l.createBlock(y,{key:r.value.metadata.name,ref_key:"annotationsFormRef",ref:h,value:r.value.metadata.annotations,kind:"LinkGroup",group:"core.halo.run"},null,8,["value"])):l.createCommentVNode("",!0)])])]),_:1},8,["visible","title"])}}}),ts=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},kc=ts(wc,[["__scopeId","data-v-52eb705d"]]);var vc=Object.defineProperty,ns=Object.getOwnPropertySymbols,co=Object.prototype.hasOwnProperty,uo=Object.prototype.propertyIsEnumerable,fo=(t,e,n)=>e in t?vc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qt=(t,e)=>{for(var n in e||(e={}))co.call(e,n)&&fo(t,n,e[n]);if(ns)for(var n of ns(e))uo.call(e,n)&&fo(t,n,e[n]);return t},ho=(t,e)=>{var n={};for(var s in t)co.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&ns)for(var s of ns(t))e.indexOf(s)<0&&uo.call(t,s)&&(n[s]=t[s]);return n};const po="[vue-draggable-plus]: ";function Sc(t){console.warn(po+t)}function _c(t){console.error(po+t)}function mo(t,e,n){return n>=0&&n<t.length&&t.splice(n,0,t.splice(e,1)[0]),t}function Oc(t){return t.replace(/-(\w)/g,(e,n)=>n?n.toUpperCase():"")}function Ec(t){return Object.keys(t).reduce((e,n)=>(typeof t[n]<"u"&&(e[Oc(n)]=t[n]),e),{})}function go(t,e){return Array.isArray(t)&&t.splice(e,1),t}function yo(t,e,n){return Array.isArray(t)&&t.splice(e,0,n),t}function Nc(t){return typeof t>"u"}function Cc(t){return typeof t=="string"}function bo(t,e,n){const s=t.children[n];t.insertBefore(e,s)}function ui(t){t.parentNode&&t.parentNode.removeChild(t)}function Tc(t,e=document){var n;let s=null;return typeof(e==null?void 0:e.querySelector)=="function"?s=(n=e==null?void 0:e.querySelector)==null?void 0:n.call(e,t):s=document.querySelector(t),s||Sc(`Element not found: ${t}`),s}function Lc(t,e,n=null){return function(...s){return t.apply(n,s),e.apply(n,s)}}function Ac(t,e){const n=Qt({},t);return Object.keys(e).forEach(s=>{n[s]?n[s]=Lc(t[s],e[s]):n[s]=e[s]}),n}function Ic(t){return t instanceof HTMLElement}function wo(t,e){Object.keys(t).forEach(n=>{e(n,t[n])})}function Vc(t){return t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97)}const Dc=Object.assign;/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ko(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ko(Object(n),!0).forEach(function(s){$c(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ss(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ss=function(e){return typeof e}:ss=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(t)}function $c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ze(){return ze=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ze.apply(this,arguments)}function xc(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Mc(t,e){if(t==null)return{};var n=xc(t,e),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}var Pc="1.15.2";function Xe(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Je=Xe(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),mn=Xe(/Edge/i),vo=Xe(/firefox/i),gn=Xe(/safari/i)&&!Xe(/chrome/i)&&!Xe(/android/i),So=Xe(/iP(ad|od|hone)/i),_o=Xe(/chrome/i)&&Xe(/android/i),Oo={capture:!1,passive:!1};function J(t,e,n){t.addEventListener(e,n,!Je&&Oo)}function X(t,e,n){t.removeEventListener(e,n,!Je&&Oo)}function is(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Bc(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Fe(t,e,n,s){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&is(t,e):is(t,e))||s&&t===n)return t;if(t===n)break}while(t=Bc(t))}return null}var Eo=/\s+/g;function Ve(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(Eo," ").replace(" "+e+" "," ");t.className=(s+(n?" "+e:"")).replace(Eo," ")}}function K(t,e,n){var s=t&&t.style;if(s){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=n+(typeof n=="string"?"":"px")}}function Ht(t,e){var n="";if(typeof t=="string")n=t;else do{var s=K(t,"transform");s&&s!=="none"&&(n=s+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function No(t,e,n){if(t){var s=t.getElementsByTagName(e),i=0,r=s.length;if(n)for(;i<r;i++)n(s[i],i);return s}return[]}function Ge(){var t=document.scrollingElement;return t||document.documentElement}function le(t,e,n,s,i){if(!(!t.getBoundingClientRect&&t!==window)){var r,o,a,c,u,h,f;if(t!==window&&t.parentNode&&t!==Ge()?(r=t.getBoundingClientRect(),o=r.top,a=r.left,c=r.bottom,u=r.right,h=r.height,f=r.width):(o=0,a=0,c=window.innerHeight,u=window.innerWidth,h=window.innerHeight,f=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Je))do if(i&&i.getBoundingClientRect&&(K(i,"transform")!=="none"||n&&K(i,"position")!=="static")){var p=i.getBoundingClientRect();o-=p.top+parseInt(K(i,"border-top-width")),a-=p.left+parseInt(K(i,"border-left-width")),c=o+r.height,u=a+r.width;break}while(i=i.parentNode);if(s&&t!==window){var g=Ht(i||t),b=g&&g.a,m=g&&g.d;g&&(o/=m,a/=b,f/=b,h/=m,c=o+h,u=a+f)}return{top:o,left:a,bottom:c,right:u,width:f,height:h}}}function Co(t,e,n){for(var s=ot(t,!0),i=le(t)[e];s;){var r=le(s)[n],o=void 0;if(o=i>=r,!o)return s;if(s===Ge())break;s=ot(s,!1)}return!1}function Wt(t,e,n,s){for(var i=0,r=0,o=t.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==Y.ghost&&(s||o[r]!==Y.dragged)&&Fe(o[r],n.draggable,t,!1)){if(i===e)return o[r];i++}r++}return null}function fi(t,e){for(var n=t.lastElementChild;n&&(n===Y.ghost||K(n,"display")==="none"||e&&!is(n,e));)n=n.previousElementSibling;return n||null}function Be(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Y.clone&&(!e||is(t,e))&&n++;return n}function To(t){var e=0,n=0,s=Ge();if(t)do{var i=Ht(t),r=i.a,o=i.d;e+=t.scrollLeft*r,n+=t.scrollTop*o}while(t!==s&&(t=t.parentNode));return[e,n]}function Rc(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[n][s])return Number(n)}return-1}function ot(t,e){if(!t||!t.getBoundingClientRect)return Ge();var n=t,s=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=K(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ge();if(s||e)return n;s=!0}}while(n=n.parentNode);return Ge()}function jc(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function di(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var yn;function Lo(t,e){return function(){if(!yn){var n=arguments,s=this;n.length===1?t.call(s,n[0]):t.apply(s,n),yn=setTimeout(function(){yn=void 0},e)}}}function Fc(){clearTimeout(yn),yn=void 0}function Ao(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Io(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Vo(t,e,n){var s={};return Array.from(t.children).forEach(function(i){var r,o,a,c;if(!(!Fe(i,e.draggable,t,!1)||i.animated||i===n)){var u=le(i);s.left=Math.min((r=s.left)!==null&&r!==void 0?r:1/0,u.left),s.top=Math.min((o=s.top)!==null&&o!==void 0?o:1/0,u.top),s.right=Math.max((a=s.right)!==null&&a!==void 0?a:-1/0,u.right),s.bottom=Math.max((c=s.bottom)!==null&&c!==void 0?c:-1/0,u.bottom)}}),s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var De="Sortable"+new Date().getTime();function Uc(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(K(s,"display")==="none"||s===Y.ghost)){t.push({target:s,rect:le(s)});var i=qe({},t[t.length-1].rect);if(s.thisAnimationDuration){var r=Ht(s,!0);r&&(i.top-=r.f,i.left-=r.e)}s.fromRect=i}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(Rc(t,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var i=!1,r=0;t.forEach(function(o){var a=0,c=o.target,u=c.fromRect,h=le(c),f=c.prevFromRect,p=c.prevToRect,g=o.rect,b=Ht(c,!0);b&&(h.top-=b.f,h.left-=b.e),c.toRect=h,c.thisAnimationDuration&&di(f,h)&&!di(u,h)&&(g.top-h.top)/(g.left-h.left)===(u.top-h.top)/(u.left-h.left)&&(a=Yc(g,f,p,s.options)),di(h,u)||(c.prevFromRect=u,c.prevToRect=h,a||(a=s.options.animation),s.animate(c,g,h,a)),a&&(i=!0,r=Math.max(r,a),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},a),c.thisAnimationDuration=a)}),clearTimeout(e),i?e=setTimeout(function(){typeof n=="function"&&n()},r):typeof n=="function"&&n(),t=[]},animate:function(n,s,i,r){if(r){K(n,"transition",""),K(n,"transform","");var o=Ht(this.el),a=o&&o.a,c=o&&o.d,u=(s.left-i.left)/(a||1),h=(s.top-i.top)/(c||1);n.animatingX=!!u,n.animatingY=!!h,K(n,"transform","translate3d("+u+"px,"+h+"px,0)"),this.forRepaintDummy=Kc(n),K(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),K(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){K(n,"transition",""),K(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},r)}}}}function Kc(t){return t.offsetWidth}function Yc(t,e,n,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*s.animation}var zt=[],hi={initializeByDefault:!0},bn={mount:function(t){for(var e in hi)hi.hasOwnProperty(e)&&!(e in t)&&(t[e]=hi[e]);zt.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),zt.push(t)},pluginEvent:function(t,e,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var i=t+"Global";zt.forEach(function(r){e[r.pluginName]&&(e[r.pluginName][i]&&e[r.pluginName][i](qe({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](qe({sortable:e},n)))})},initializePlugins:function(t,e,n,s){zt.forEach(function(o){var a=o.pluginName;if(!(!t.options[a]&&!o.initializeByDefault)){var c=new o(t,e,t.options);c.sortable=t,c.options=t.options,t[a]=c,ze(n,c.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var r=this.modifyOption(t,i,t.options[i]);typeof r<"u"&&(t.options[i]=r)}},getEventProperties:function(t,e){var n={};return zt.forEach(function(s){typeof s.eventProperties=="function"&&ze(n,s.eventProperties.call(e[s.pluginName],t))}),n},modifyOption:function(t,e,n){var s;return zt.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[e]=="function"&&(s=i.optionListeners[e].call(t[i.pluginName],n))}),s}};function qc(t){var e=t.sortable,n=t.rootEl,s=t.name,i=t.targetEl,r=t.cloneEl,o=t.toEl,a=t.fromEl,c=t.oldIndex,u=t.newIndex,h=t.oldDraggableIndex,f=t.newDraggableIndex,p=t.originalEvent,g=t.putSortable,b=t.extraEventProperties;if(e=e||n&&n[De],!!e){var m,y=e.options,k="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!Je&&!mn?m=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(s,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=r,m.oldIndex=c,m.newIndex=u,m.oldDraggableIndex=h,m.newDraggableIndex=f,m.originalEvent=p,m.pullMode=g?g.lastPutMode:void 0;var N=qe(qe({},b),bn.getEventProperties(s,e));for(var _ in N)m[_]=N[_];n&&n.dispatchEvent(m),y[k]&&y[k].call(e,m)}}var Gc=["evt"],Te=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,i=Mc(n,Gc);bn.pluginEvent.bind(Y)(t,e,qe({dragEl:V,parentEl:re,ghostEl:G,rootEl:te,nextEl:bt,lastDownEl:rs,cloneEl:se,cloneHidden:at,dragStarted:kn,putSortable:ue,activeSortable:Y.active,originalEvent:s,oldIndex:Xt,oldDraggableIndex:wn,newIndex:$e,newDraggableIndex:lt,hideGhostForTarget:Ro,unhideGhostForTarget:jo,cloneNowHidden:function(){at=!0},cloneNowShown:function(){at=!1},dispatchSortableEvent:function(r){be({sortable:e,name:r,originalEvent:s})}},i))};function be(t){qc(qe({putSortable:ue,cloneEl:se,targetEl:V,rootEl:te,oldIndex:Xt,oldDraggableIndex:wn,newIndex:$e,newDraggableIndex:lt},t))}var V,re,G,te,bt,rs,se,at,Xt,$e,wn,lt,os,ue,Jt=!1,as=!1,ls=[],wt,Ue,pi,mi,Do,$o,kn,Zt,vn,Sn=!1,cs=!1,us,he,gi=[],yi=!1,fs=[],ds=typeof document<"u",hs=So,xo=mn||Je?"cssFloat":"float",Qc=ds&&!_o&&!So&&"draggable"in document.createElement("div"),Mo=function(){if(ds){if(Je)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Po=function(t,e){var n=K(t),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=Wt(t,0,e),r=Wt(t,1,e),o=i&&K(i),a=r&&K(r),c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+le(i).width,u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+le(r).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o.float&&o.float!=="none"){var h=o.float==="left"?"left":"right";return r&&(a.clear==="both"||a.clear===h)?"vertical":"horizontal"}return i&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||c>=s&&n[xo]==="none"||r&&n[xo]==="none"&&c+u>s)?"vertical":"horizontal"},Hc=function(t,e,n){var s=n?t.left:t.top,i=n?t.right:t.bottom,r=n?t.width:t.height,o=n?e.left:e.top,a=n?e.right:e.bottom,c=n?e.width:e.height;return s===o||i===a||s+r/2===o+c/2},Wc=function(t,e){var n;return ls.some(function(s){var i=s[De].options.emptyInsertThreshold;if(!(!i||fi(s))){var r=le(s),o=t>=r.left-i&&t<=r.right+i,a=e>=r.top-i&&e<=r.bottom+i;if(o&&a)return n=s}}),n},Bo=function(t){function e(i,r){return function(o,a,c,u){var h=o.options.group.name&&a.options.group.name&&o.options.group.name===a.options.group.name;if(i==null&&(r||h))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return e(i(o,a,c,u),r)(o,a,c,u);var f=(r?o:a).options.group.name;return i===!0||typeof i=="string"&&i===f||i.join&&i.indexOf(f)>-1}}var n={},s=t.group;(!s||ss(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=e(s.pull,!0),n.checkPut=e(s.put),n.revertClone=s.revertClone,t.group=n},Ro=function(){!Mo&&G&&K(G,"display","none")},jo=function(){!Mo&&G&&K(G,"display","")};ds&&!_o&&document.addEventListener("click",function(t){if(as)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),as=!1,!1},!0);var kt=function(t){if(V){t=t.touches?t.touches[0]:t;var e=Wc(t.clientX,t.clientY);if(e){var n={};for(var s in t)t.hasOwnProperty(s)&&(n[s]=t[s]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[De]._onDragOver(n)}}},zc=function(t){V&&V.parentNode[De]._isOutsideThisEl(t.target)};function Y(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ze({},e),t[De]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Po(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,o){r.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Y.supportPointer!==!1&&"PointerEvent"in window&&!gn,emptyInsertThreshold:5};bn.initializePlugins(this,t,n);for(var s in n)!(s in e)&&(e[s]=n[s]);Bo(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:Qc,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?J(t,"pointerdown",this._onTapStart):(J(t,"mousedown",this._onTapStart),J(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(J(t,"dragover",this),J(t,"dragenter",this)),ls.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ze(this,Uc())}Y.prototype={constructor:Y,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Zt=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,V):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,s=this.options,i=s.preventOnFilter,r=t.type,o=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,a=(o||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,u=s.filter;if(iu(n),!V&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||s.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&gn&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=Fe(a,s.draggable,n,!1),!(a&&a.animated)&&rs!==a)){if(Xt=Be(a),wn=Be(a,s.draggable),typeof u=="function"){if(u.call(this,t,a,this)){be({sortable:e,rootEl:c,name:"filter",targetEl:a,toEl:n,fromEl:n}),Te("filter",e,{evt:t}),i&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=Fe(c,h.trim(),n,!1),h)return be({sortable:e,rootEl:h,name:"filter",targetEl:a,fromEl:n,toEl:n}),Te("filter",e,{evt:t}),!0}),u)){i&&t.cancelable&&t.preventDefault();return}s.handle&&!Fe(c,s.handle,n,!1)||this._prepareDragStart(t,o,a)}}},_prepareDragStart:function(t,e,n){var s=this,i=s.el,r=s.options,o=i.ownerDocument,a;if(n&&!V&&n.parentNode===i){var c=le(n);if(te=i,V=n,re=V.parentNode,bt=V.nextSibling,rs=n,os=r.group,Y.dragged=V,wt={target:V,clientX:(e||t).clientX,clientY:(e||t).clientY},Do=wt.clientX-c.left,$o=wt.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,V.style["will-change"]="all",a=function(){if(Te("delayEnded",s,{evt:t}),Y.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!vo&&s.nativeDraggable&&(V.draggable=!0),s._triggerDragStart(t,e),be({sortable:s,name:"choose",originalEvent:t}),Ve(V,r.chosenClass,!0)},r.ignore.split(",").forEach(function(u){No(V,u.trim(),bi)}),J(o,"dragover",kt),J(o,"mousemove",kt),J(o,"touchmove",kt),J(o,"mouseup",s._onDrop),J(o,"touchend",s._onDrop),J(o,"touchcancel",s._onDrop),vo&&this.nativeDraggable&&(this.options.touchStartThreshold=4,V.draggable=!0),Te("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(mn||Je))){if(Y.eventCanceled){this._onDrop();return}J(o,"mouseup",s._disableDelayedDrag),J(o,"touchend",s._disableDelayedDrag),J(o,"touchcancel",s._disableDelayedDrag),J(o,"mousemove",s._delayedDragTouchMoveHandler),J(o,"touchmove",s._delayedDragTouchMoveHandler),r.supportPointer&&J(o,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(a,r.delay)}else a()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){V&&bi(V),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;X(t,"mouseup",this._disableDelayedDrag),X(t,"touchend",this._disableDelayedDrag),X(t,"touchcancel",this._disableDelayedDrag),X(t,"mousemove",this._delayedDragTouchMoveHandler),X(t,"touchmove",this._delayedDragTouchMoveHandler),X(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?J(document,"pointermove",this._onTouchMove):e?J(document,"touchmove",this._onTouchMove):J(document,"mousemove",this._onTouchMove):(J(V,"dragend",this),J(te,"dragstart",this._onDragStart));try{document.selection?ms(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(Jt=!1,te&&V){Te("dragStarted",this,{evt:e}),this.nativeDraggable&&J(document,"dragover",zc);var n=this.options;!t&&Ve(V,n.dragClass,!1),Ve(V,n.ghostClass,!0),Y.active=this,t&&this._appendGhost(),be({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Ue){this._lastX=Ue.clientX,this._lastY=Ue.clientY,Ro();for(var t=document.elementFromPoint(Ue.clientX,Ue.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ue.clientX,Ue.clientY),t!==e);)e=t;if(V.parentNode[De]._isOutsideThisEl(t),e)do{if(e[De]){var n=void 0;if(n=e[De]._onDragOver({clientX:Ue.clientX,clientY:Ue.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);jo()}},_onTouchMove:function(t){if(wt){var e=this.options,n=e.fallbackTolerance,s=e.fallbackOffset,i=t.touches?t.touches[0]:t,r=G&&Ht(G,!0),o=G&&r&&r.a,a=G&&r&&r.d,c=hs&&he&&To(he),u=(i.clientX-wt.clientX+s.x)/(o||1)+(c?c[0]-gi[0]:0)/(o||1),h=(i.clientY-wt.clientY+s.y)/(a||1)+(c?c[1]-gi[1]:0)/(a||1);if(!Y.active&&!Jt){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(G){r?(r.e+=u-(pi||0),r.f+=h-(mi||0)):r={a:1,b:0,c:0,d:1,e:u,f:h};var f="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");K(G,"webkitTransform",f),K(G,"mozTransform",f),K(G,"msTransform",f),K(G,"transform",f),pi=u,mi=h,Ue=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!G){var t=this.options.fallbackOnBody?document.body:te,e=le(V,!0,hs,!0,t),n=this.options;if(hs){for(he=t;K(he,"position")==="static"&&K(he,"transform")==="none"&&he!==document;)he=he.parentNode;he!==document.body&&he!==document.documentElement?(he===document&&(he=Ge()),e.top+=he.scrollTop,e.left+=he.scrollLeft):he=Ge(),gi=To(he)}G=V.cloneNode(!0),Ve(G,n.ghostClass,!1),Ve(G,n.fallbackClass,!0),Ve(G,n.dragClass,!0),K(G,"transition",""),K(G,"transform",""),K(G,"box-sizing","border-box"),K(G,"margin",0),K(G,"top",e.top),K(G,"left",e.left),K(G,"width",e.width),K(G,"height",e.height),K(G,"opacity","0.8"),K(G,"position",hs?"absolute":"fixed"),K(G,"zIndex","100000"),K(G,"pointerEvents","none"),Y.ghost=G,t.appendChild(G),K(G,"transform-origin",Do/parseInt(G.style.width)*100+"% "+$o/parseInt(G.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,s=t.dataTransfer,i=n.options;if(Te("dragStart",this,{evt:t}),Y.eventCanceled){this._onDrop();return}Te("setupClone",this),Y.eventCanceled||(se=Io(V),se.removeAttribute("id"),se.draggable=!1,se.style["will-change"]="",this._hideClone(),Ve(se,this.options.chosenClass,!1),Y.clone=se),n.cloneId=ms(function(){Te("clone",n),!Y.eventCanceled&&(n.options.removeCloneOnHide||te.insertBefore(se,V),n._hideClone(),be({sortable:n,name:"clone"}))}),!e&&Ve(V,i.dragClass,!0),e?(as=!0,n._loopId=setInterval(n._emulateDragOver,50)):(X(document,"mouseup",n._onDrop),X(document,"touchend",n._onDrop),X(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",i.setData&&i.setData.call(n,s,V)),J(document,"drop",n),K(V,"transform","translateZ(0)")),Jt=!0,n._dragStartId=ms(n._dragStarted.bind(n,e,t)),J(document,"selectstart",n),kn=!0,gn&&K(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,n=t.target,s,i,r,o=this.options,a=o.group,c=Y.active,u=os===a,h=o.sort,f=ue||c,p,g=this,b=!1;if(yi)return;function m(x,D){Te(x,g,qe({evt:t,isOwner:u,axis:p?"vertical":"horizontal",revert:r,dragRect:s,targetRect:i,canSort:h,fromSortable:f,target:n,completed:k,onMove:function(P,T){return ps(te,e,V,s,P,le(P),t,T)},changed:N},D))}function y(){m("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function k(x){return m("dragOverCompleted",{insertion:x}),x&&(u?c._hideClone():c._showClone(g),g!==f&&(Ve(V,ue?ue.options.ghostClass:c.options.ghostClass,!1),Ve(V,o.ghostClass,!0)),ue!==g&&g!==Y.active?ue=g:g===Y.active&&ue&&(ue=null),f===g&&(g._ignoreWhileAnimating=n),g.animateAll(function(){m("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(n===V&&!V.animated||n===e&&!n.animated)&&(Zt=null),!o.dragoverBubble&&!t.rootEl&&n!==document&&(V.parentNode[De]._isOutsideThisEl(t.target),!x&&kt(t)),!o.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function N(){$e=Be(V),lt=Be(V,o.draggable),be({sortable:g,name:"change",toEl:e,newIndex:$e,newDraggableIndex:lt,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=Fe(n,o.draggable,e,!0),m("dragOver"),Y.eventCanceled)return b;if(V.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||g._ignoreWhileAnimating===n)return k(!1);if(as=!1,c&&!o.disabled&&(u?h||(r=re!==te):ue===this||(this.lastPutMode=os.checkPull(this,c,V,t))&&a.checkPut(this,c,V,t))){if(p=this._getDirection(t,n)==="vertical",s=le(V),m("dragOverValid"),Y.eventCanceled)return b;if(r)return re=te,y(),this._hideClone(),m("revert"),Y.eventCanceled||(bt?te.insertBefore(V,bt):te.appendChild(V)),k(!0);var _=fi(e,o.draggable);if(!_||eu(t,p,this)&&!_.animated){if(_===V)return k(!1);if(_&&e===t.target&&(n=_),n&&(i=le(n)),ps(te,e,V,s,n,i,t,!!n)!==!1)return y(),_&&_.nextSibling?e.insertBefore(V,_.nextSibling):e.appendChild(V),re=e,N(),k(!0)}else if(_&&Zc(t,p,this)){var I=Wt(e,0,o,!0);if(I===V)return k(!1);if(n=I,i=le(n),ps(te,e,V,s,n,i,t,!1)!==!1)return y(),e.insertBefore(V,I),re=e,N(),k(!0)}else if(n.parentNode===e){i=le(n);var L=0,A,q=V.parentNode!==e,v=!Hc(V.animated&&V.toRect||s,n.animated&&n.toRect||i,p),$=p?"top":"left",B=Co(n,"top","top")||Co(V,"top","top"),j=B?B.scrollTop:void 0;Zt!==n&&(A=i[$],Sn=!1,cs=!v&&o.invertSwap||q),L=tu(t,n,i,p,v?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,cs,Zt===n);var U;if(L!==0){var R=Be(V);do R-=L,U=re.children[R];while(U&&(K(U,"display")==="none"||U===G))}if(L===0||U===n)return k(!1);Zt=n,vn=L;var S=n.nextElementSibling,O=!1;O=L===1;var C=ps(te,e,V,s,n,i,t,O);if(C!==!1)return(C===1||C===-1)&&(O=C===1),yi=!0,setTimeout(Jc,30),y(),O&&!S?e.appendChild(V):n.parentNode.insertBefore(V,O?S:n),B&&Ao(B,0,j-B.scrollTop),re=V.parentNode,A!==void 0&&!cs&&(us=Math.abs(A-le(n)[$])),N(),k(!0)}if(e.contains(V))return k(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){X(document,"mousemove",this._onTouchMove),X(document,"touchmove",this._onTouchMove),X(document,"pointermove",this._onTouchMove),X(document,"dragover",kt),X(document,"mousemove",kt),X(document,"touchmove",kt)},_offUpEvents:function(){var t=this.el.ownerDocument;X(t,"mouseup",this._onDrop),X(t,"touchend",this._onDrop),X(t,"pointerup",this._onDrop),X(t,"touchcancel",this._onDrop),X(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if($e=Be(V),lt=Be(V,n.draggable),Te("drop",this,{evt:t}),re=V&&V.parentNode,$e=Be(V),lt=Be(V,n.draggable),Y.eventCanceled){this._nulling();return}Jt=!1,cs=!1,Sn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),wi(this.cloneId),wi(this._dragStartId),this.nativeDraggable&&(X(document,"drop",this),X(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),gn&&K(document.body,"user-select",""),K(V,"transform",""),t&&(kn&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),G&&G.parentNode&&G.parentNode.removeChild(G),(te===re||ue&&ue.lastPutMode!=="clone")&&se&&se.parentNode&&se.parentNode.removeChild(se),V&&(this.nativeDraggable&&X(V,"dragend",this),bi(V),V.style["will-change"]="",kn&&!Jt&&Ve(V,ue?ue.options.ghostClass:this.options.ghostClass,!1),Ve(V,this.options.chosenClass,!1),be({sortable:this,name:"unchoose",toEl:re,newIndex:null,newDraggableIndex:null,originalEvent:t}),te!==re?($e>=0&&(be({rootEl:re,name:"add",toEl:re,fromEl:te,originalEvent:t}),be({sortable:this,name:"remove",toEl:re,originalEvent:t}),be({rootEl:re,name:"sort",toEl:re,fromEl:te,originalEvent:t}),be({sortable:this,name:"sort",toEl:re,originalEvent:t})),ue&&ue.save()):$e!==Xt&&$e>=0&&(be({sortable:this,name:"update",toEl:re,originalEvent:t}),be({sortable:this,name:"sort",toEl:re,originalEvent:t})),Y.active&&(($e==null||$e===-1)&&($e=Xt,lt=wn),be({sortable:this,name:"end",toEl:re,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Te("nulling",this),te=V=re=G=bt=se=rs=at=wt=Ue=kn=$e=lt=Xt=wn=Zt=vn=ue=os=Y.dragged=Y.ghost=Y.clone=Y.active=null,fs.forEach(function(t){t.checked=!0}),fs.length=pi=mi=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":V&&(this._onDragOver(t),Xc(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,n=this.el.children,s=0,i=n.length,r=this.options;s<i;s++)e=n[s],Fe(e,r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||su(e));return t},sort:function(t,e){var n={},s=this.el;this.toArray().forEach(function(i,r){var o=s.children[r];Fe(o,this.options.draggable,s,!1)&&(n[i]=o)},this),e&&this.captureAnimationState(),t.forEach(function(i){n[i]&&(s.removeChild(n[i]),s.appendChild(n[i]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Fe(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(e===void 0)return n[t];var s=bn.modifyOption(this,t,e);typeof s<"u"?n[t]=s:n[t]=e,t==="group"&&Bo(n)},destroy:function(){Te("destroy",this);var t=this.el;t[De]=null,X(t,"mousedown",this._onTapStart),X(t,"touchstart",this._onTapStart),X(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(X(t,"dragover",this),X(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ls.splice(ls.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!at){if(Te("hideClone",this),Y.eventCanceled)return;K(se,"display","none"),this.options.removeCloneOnHide&&se.parentNode&&se.parentNode.removeChild(se),at=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(at){if(Te("showClone",this),Y.eventCanceled)return;V.parentNode==te&&!this.options.group.revertClone?te.insertBefore(se,V):bt?te.insertBefore(se,bt):te.appendChild(se),this.options.group.revertClone&&this.animate(V,se),K(se,"display",""),at=!1}}};function Xc(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function ps(t,e,n,s,i,r,o,a){var c,u=t[De],h=u.options.onMove,f;return window.CustomEvent&&!Je&&!mn?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=n,c.draggedRect=s,c.related=i||e,c.relatedRect=r||le(e),c.willInsertAfter=a,c.originalEvent=o,t.dispatchEvent(c),h&&(f=h.call(u,c,o)),f}function bi(t){t.draggable=!1}function Jc(){yi=!1}function Zc(t,e,n){var s=le(Wt(n.el,0,n.options,!0)),i=Vo(n.el,n.options,G),r=10;return e?t.clientX<i.left-r||t.clientY<s.top&&t.clientX<s.right:t.clientY<i.top-r||t.clientY<s.bottom&&t.clientX<s.left}function eu(t,e,n){var s=le(fi(n.el,n.options.draggable)),i=Vo(n.el,n.options,G),r=10;return e?t.clientX>i.right+r||t.clientY>s.bottom&&t.clientX>s.left:t.clientY>i.bottom+r||t.clientX>s.right&&t.clientY>s.top}function tu(t,e,n,s,i,r,o,a){var c=s?t.clientY:t.clientX,u=s?n.height:n.width,h=s?n.top:n.left,f=s?n.bottom:n.right,p=!1;if(!o){if(a&&us<u*i){if(!Sn&&(vn===1?c>h+u*r/2:c<f-u*r/2)&&(Sn=!0),Sn)p=!0;else if(vn===1?c<h+us:c>f-us)return-vn}else if(c>h+u*(1-i)/2&&c<f-u*(1-i)/2)return nu(e)}return p=p||o,p&&(c<h+u*r/2||c>f-u*r/2)?c>h+u/2?1:-1:0}function nu(t){return Be(V)<Be(t)?1:-1}function su(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,s=0;n--;)s+=e.charCodeAt(n);return s.toString(36)}function iu(t){fs.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var s=e[n];s.checked&&fs.push(s)}}function ms(t){return setTimeout(t,0)}function wi(t){return clearTimeout(t)}ds&&J(document,"touchmove",function(t){(Y.active||Jt)&&t.cancelable&&t.preventDefault()}),Y.utils={on:J,off:X,css:K,find:No,is:function(t,e){return!!Fe(t,e,t,!1)},extend:jc,throttle:Lo,closest:Fe,toggleClass:Ve,clone:Io,index:Be,nextTick:ms,cancelNextTick:wi,detectDirection:Po,getChild:Wt},Y.get=function(t){return t[De]},Y.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Y.utils=qe(qe({},Y.utils),s.utils)),bn.mount(s)})},Y.create=function(t,e){return new Y(t,e)},Y.version=Pc;var ce=[],_n,ki,vi=!1,Si,_i,gs,On;function ru(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(e){var n=e.originalEvent;this.sortable.nativeDraggable?J(document,"dragover",this._handleAutoScroll):this.options.supportPointer?J(document,"pointermove",this._handleFallbackAutoScroll):n.touches?J(document,"touchmove",this._handleFallbackAutoScroll):J(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var n=e.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?X(document,"dragover",this._handleAutoScroll):(X(document,"pointermove",this._handleFallbackAutoScroll),X(document,"touchmove",this._handleFallbackAutoScroll),X(document,"mousemove",this._handleFallbackAutoScroll)),Fo(),ys(),Fc()},nulling:function(){gs=ki=_n=vi=On=Si=_i=null,ce.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,n){var s=this,i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(i,r);if(gs=e,n||this.options.forceAutoScrollFallback||mn||Je||gn){Oi(e,this.options,o,n);var a=ot(o,!0);vi&&(!On||i!==Si||r!==_i)&&(On&&Fo(),On=setInterval(function(){var c=ot(document.elementFromPoint(i,r),!0);c!==a&&(a=c,ys()),Oi(e,s.options,c,n)},10),Si=i,_i=r)}else{if(!this.options.bubbleScroll||ot(o,!0)===Ge()){ys();return}Oi(e,this.options,ot(o,!1),!1)}}},ze(t,{pluginName:"scroll",initializeByDefault:!0})}function ys(){ce.forEach(function(t){clearInterval(t.pid)}),ce=[]}function Fo(){clearInterval(On)}var Oi=Lo(function(t,e,n,s){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,c=Ge(),u=!1,h;ki!==n&&(ki=n,ys(),_n=e.scroll,h=e.scrollFn,_n===!0&&(_n=ot(n,!0)));var f=0,p=_n;do{var g=p,b=le(g),m=b.top,y=b.bottom,k=b.left,N=b.right,_=b.width,I=b.height,L=void 0,A=void 0,q=g.scrollWidth,v=g.scrollHeight,$=K(g),B=g.scrollLeft,j=g.scrollTop;g===c?(L=_<q&&($.overflowX==="auto"||$.overflowX==="scroll"||$.overflowX==="visible"),A=I<v&&($.overflowY==="auto"||$.overflowY==="scroll"||$.overflowY==="visible")):(L=_<q&&($.overflowX==="auto"||$.overflowX==="scroll"),A=I<v&&($.overflowY==="auto"||$.overflowY==="scroll"));var U=L&&(Math.abs(N-i)<=o&&B+_<q)-(Math.abs(k-i)<=o&&!!B),R=A&&(Math.abs(y-r)<=o&&j+I<v)-(Math.abs(m-r)<=o&&!!j);if(!ce[f])for(var S=0;S<=f;S++)ce[S]||(ce[S]={});(ce[f].vx!=U||ce[f].vy!=R||ce[f].el!==g)&&(ce[f].el=g,ce[f].vx=U,ce[f].vy=R,clearInterval(ce[f].pid),(U!=0||R!=0)&&(u=!0,ce[f].pid=setInterval((function(){s&&this.layer===0&&Y.active._onTouchMove(gs);var O=ce[this.layer].vy?ce[this.layer].vy*a:0,C=ce[this.layer].vx?ce[this.layer].vx*a:0;typeof h=="function"&&h.call(Y.dragged.parentNode[De],C,O,t,gs,ce[this.layer].el)!=="continue"||Ao(ce[this.layer].el,C,O)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&p!==c&&(p=ot(p,!1)));vi=u}},30),Uo=function(t){var e=t.originalEvent,n=t.putSortable,s=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,o=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var c=n||i;o();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,h=document.elementFromPoint(u.clientX,u.clientY);a(),c&&!c.el.contains(h)&&(r("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function Ei(){}Ei.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=Wt(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(e,s):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:Uo},ze(Ei,{pluginName:"revertOnSpill"});function Ni(){}Ni.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,s=n||this.sortable;s.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),s.animateAll()},drop:Uo},ze(Ni,{pluginName:"removeOnSpill"}),Y.mount(new ru),Y.mount(Ni,Ei);function ou(t){return t==null?t:JSON.parse(JSON.stringify(t))}function au(t){l.getCurrentInstance()&&l.onUnmounted(t)}function lu(t){l.getCurrentInstance()?l.onMounted(t):l.nextTick(t)}let Ko=null,Yo=null;function qo(t=null,e=null){Ko=t,Yo=e}function cu(){return{data:Ko,clonedData:Yo}}const Go=Symbol("cloneElement");function uu(...t){var e,n;const s=(e=l.getCurrentInstance())==null?void 0:e.proxy;let i=null;const r=t[0];let[,o,a]=t;Array.isArray(l.unref(o))||(a=o,o=null);let c=null;const{immediate:u=!0,clone:h=ou,customUpdate:f}=(n=l.unref(a))!=null?n:{};function p(v){var $;const{from:B,oldIndex:j,item:U}=v;i=Array.from(B.childNodes);const R=l.unref(($=l.unref(o))==null?void 0:$[j]),S=h(R);qo(R,S),U[Go]=S}function g(v){const $=v.item[Go];if(!Nc($)){if(ui(v.item),l.isRef(o)){const B=[...l.unref(o)];o.value=yo(B,v.newDraggableIndex,$);return}yo(l.unref(o),v.newDraggableIndex,$)}}function b(v){const{from:$,item:B,oldIndex:j,oldDraggableIndex:U,pullMode:R,clone:S}=v;if(bo($,B,j),R==="clone"){ui(S);return}if(l.isRef(o)){const O=[...l.unref(o)];o.value=go(O,U);return}go(l.unref(o),U)}function m(v){if(f){f(v);return}const{from:$,item:B,oldIndex:j,oldDraggableIndex:U,newDraggableIndex:R}=v;if(ui(B),bo($,B,j),l.isRef(o)){const S=[...l.unref(o)];o.value=mo(S,U,R);return}mo(l.unref(o),U,R)}function y(v){const{newIndex:$,oldIndex:B,from:j,to:U}=v;let R=null;const S=$===B&&j===U;try{if(S){let O=null;i==null||i.some((C,x)=>{if(O&&(i==null?void 0:i.length)!==U.childNodes.length)return j.insertBefore(O,C.nextSibling),!0;const D=U.childNodes[x];O=U==null?void 0:U.replaceChild(C,D)})}}catch(O){R=O}finally{i=null}l.nextTick(()=>{if(qo(),R)throw R})}const k={onUpdate:m,onStart:p,onAdd:g,onRemove:b,onEnd:y};function N(v){const $=l.unref(r);return v||(v=Cc($)?Tc($,s==null?void 0:s.$el):$),v&&!Ic(v)&&(v=v.$el),v||_c("Root element not found"),v}function _(){var v;const $=(v=l.unref(a))!=null?v:{},B=ho($,["immediate","clone"]);return wo(B,(j,U)=>{Vc(j)&&(B[j]=(R,...S)=>{const O=cu();return Dc(R,O),U(R,...S)})}),Ac(o===null?{}:k,B)}const I=v=>{v=N(v),c&&L.destroy(),c=new Y(v,_())};l.watch(()=>a,()=>{c&&wo(_(),(v,$)=>{c==null||c.option(v,$)})},{deep:!0});const L={option:(v,$)=>c==null?void 0:c.option(v,$),destroy:()=>{c==null||c.destroy(),c=null},save:()=>c==null?void 0:c.save(),toArray:()=>c==null?void 0:c.toArray(),closest:(...v)=>c==null?void 0:c.closest(...v)},A=()=>L==null?void 0:L.option("disabled",!0),q=()=>L==null?void 0:L.option("disabled",!1);return lu(()=>{u&&I()}),au(L.destroy),Qt({start:I,pause:A,resume:q},L)}const Ci=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],fu=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...Ci.map(t=>`on${t.replace(/^\S/,e=>e.toUpperCase())}`)],Qo=l.defineComponent({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:fu,emits:["update:modelValue",...Ci],setup(t,{slots:e,emit:n,expose:s,attrs:i}){const r=Ci.reduce((h,f)=>{const p=`on${f.replace(/^\S/,g=>g.toUpperCase())}`;return h[p]=(...g)=>n(f,...g),h},{}),o=l.computed(()=>{const h=l.toRefs(t),f=ho(h,["modelValue"]),p=Object.entries(f).reduce((g,[b,m])=>{const y=l.unref(m);return y!==void 0&&(g[b]=y),g},{});return Qt(Qt({},r),Ec(Qt(Qt({},i),p)))}),a=l.computed({get:()=>t.modelValue,set:h=>n("update:modelValue",h)}),c=l.ref(),u=l.reactive(uu(t.target||c,a,o));return s(u),()=>{var h;return l.h(t.tag||"div",{ref:c},(h=e==null?void 0:e.default)==null?void 0:h.call(e,u))}}}),du={class:"w-full overflow-x-auto"},hu={class:"w-full border-spacing-0"},pu={class:"drag-element absolute inset-y-0 left-0 hidden w-3.5 cursor-move items-center bg-gray-100 transition-all group-hover:flex hover:bg-gray-200"},mu=ts(l.defineComponent({__name:"GroupList",setup(t){const e=l.inject("groupQuery",l.ref("")),n=l.ref(!1),s=l.ref(),{groups:i,isLoading:r,refetch:o}=tr(),a=f=>{s.value=f,n.value=!0},c=async()=>{var f;try{const p=(f=i.value)==null?void 0:f.map((g,b)=>(g.spec&&(g.spec.priority=b),ge.group.updateLinkGroup({name:g.metadata.name,linkGroup:g})));p&&await Promise.all(p)}catch(p){console.error(p)}finally{await o()}},u=async f=>{M.Dialog.warning({title:"确定要删除该分组吗？",description:"将同时删除该分组下的所有链接，该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{try{await ge.group.deleteLinkGroup({name:f.metadata.name});const{data:p}=await Ns.link.listLinks({page:0,size:0,groupName:f.metadata.name}),g=p.items.map(b=>ge.link.deleteLink({name:b.metadata.name}));g&&await Promise.all(g),e.value="",M.Toast.success("删除成功")}catch(p){console.error("Failed to delete link group",p)}finally{await o()}}})};function h(){s.value=void 0,o()}return(f,p)=>{const g=l.resolveDirective("tooltip"),b=l.resolveDirective("permission");return l.openBlock(),l.createElementBlock(l.Fragment,null,[l.createVNode(kc,{visible:n.value,"onUpdate:visible":p[0]||(p[0]=m=>n.value=m),group:s.value,onClose:h},null,8,["visible","group"]),l.createVNode(l.unref(M.VCard),{"body-class":["!p-0"],title:"分组"},l.createSlots({default:l.withCtx(()=>[l.unref(r)?(l.openBlock(),l.createBlock(l.unref(M.VLoading),{key:0})):(l.openBlock(),l.createBlock(l.Transition,{key:1,appear:"",name:"fade"},{default:l.withCtx(()=>[l.createElementVNode("div",du,[l.createElementVNode("table",hu,[l.createVNode(l.unref(M.VEntity),{onClick:p[1]||(p[1]=m=>e.value=""),class:"group","is-selected":!l.unref(e)},{start:l.withCtx(()=>[l.createVNode(l.unref(M.VEntityField),{title:"全部"})]),_:1},8,["is-selected"]),l.createVNode(l.unref(Qo),{modelValue:l.unref(i),"onUpdate:modelValue":p[2]||(p[2]=m=>l.isRef(i)?i.value=m:null),class:"divide-y divide-gray-100",group:"group",handle:".drag-element","item-key":"metadata.name",tag:"tbody",onUpdate:c},{default:l.withCtx(()=>[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref(i),m=>(l.openBlock(),l.createBlock(l.unref(M.VEntity),{key:m.metadata.name,"is-selected":l.unref(e)===m.metadata.name,class:"group",onClick:y=>e.value=m.metadata.name},{prepend:l.withCtx(()=>[l.createElementVNode("div",pu,[l.createVNode(l.unref(M.IconList),{class:"h-3.5 w-3.5"})])]),start:l.withCtx(()=>{var y;return[l.createVNode(l.unref(M.VEntityField),{title:(y=m.spec)==null?void 0:y.displayName},null,8,["title"])]}),end:l.withCtx(()=>[m.metadata.deletionTimestamp?(l.openBlock(),l.createBlock(l.unref(M.VEntityField),{key:0},{description:l.withCtx(()=>[l.withDirectives(l.createVNode(l.unref(M.VStatusDot),{state:"warning",animate:""},null,512),[[g,"删除中"]])]),_:1})):l.createCommentVNode("",!0)]),dropdownItems:l.withCtx(()=>[l.createVNode(l.unref(M.VDropdownItem),{onClick:y=>a(m)},{default:l.withCtx(()=>[l.createTextVNode(" 修改 ")]),_:2},1032,["onClick"]),l.createVNode(l.unref(M.VDropdownItem),{type:"danger",onClick:y=>u(m)},{default:l.withCtx(()=>[l.createTextVNode(" 删除 ")]),_:2},1032,["onClick"])]),_:2},1032,["is-selected","onClick"]))),128))]),_:1},8,["modelValue"])])])]),_:1}))]),_:2},[l.unref(r)?void 0:{name:"footer",fn:l.withCtx(()=>[l.createVNode(l.Transition,{appear:"",name:"fade"},{default:l.withCtx(()=>[l.withDirectives((l.openBlock(),l.createBlock(l.unref(M.VButton),{block:"",type:"secondary",onClick:p[3]||(p[3]=m=>a(void 0))},{default:l.withCtx(()=>[l.createTextVNode(" 新建 ")]),_:1})),[[b,["plugin:links:manage"]]])]),_:1})]),key:"0"}]),1024)],64)}}}),[["__scopeId","data-v-8979437a"]]),gu={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},yu=[l.createElementVNode("path",{fill:"currentColor",d:"M13.82 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2c0 .5-.04 1-.1 1.46c.6-.5 1.32-.89 2.1-1.14V12c0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2v.18c.7.17 1.35.45 1.95.82c.05-.32.05-.66.05-1c0-5.5-4.5-10-10-10C6.47 2 2 6.5 2 12s4.5 10 10 10c.34 0 .68 0 1-.05c-.41-.66-.71-1.4-.87-2.2c-.04.07-.08.14-.13.21c-.83-1.2-1.5-2.53-1.91-3.96h2.41c.31-.75.76-1.42 1.32-2m5.1-6h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m12.83 7.67L22 14.5v4h-4l1.77-1.77A2.5 2.5 0 1 0 20 20h1.71A3.99 3.99 0 0 1 18 22.5c-2.21 0-4-1.79-4-4s1.79-4 4-4c1.11 0 2.11.45 2.83 1.17"},null,-1)];function bu(t,e){return l.openBlock(),l.createElementBlock("svg",gu,[...yu])}const wu={name:"mdi-web-refresh",render:bu},Ti=t=>(l.pushScopeId("data-v-9821901c"),t=t(),l.popScopeId(),t),ku={class:"md:grid md:grid-cols-4 md:gap-6"},vu=Ti(()=>l.createElementVNode("div",{class:"md:col-span-1"},[l.createElementVNode("div",{class:"sticky top-0"},[l.createElementVNode("span",{class:"text-base text-gray-900 font-medium"}," 常规 ")])],-1)),Su={class:"mt-5 md:col-span-3 md:mt-0 divide-y divide-gray-100"},_u=Ti(()=>l.createElementVNode("div",{class:"py-5"},[l.createElementVNode("div",{class:"border-t border-gray-200"})],-1)),Ou={class:"md:grid md:grid-cols-4 md:gap-6"},Eu=Ti(()=>l.createElementVNode("div",{class:"md:col-span-1"},[l.createElementVNode("div",{class:"sticky top-0"},[l.createElementVNode("span",{class:"text-base text-gray-900 font-medium"}," 元数据 ")])],-1)),Nu={class:"mt-5 md:col-span-3 md:mt-0 divide-y divide-gray-100"},Cu=ts(l.defineComponent({__name:"LinkEditingModal",props:{visible:{type:Boolean,default:!1},link:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,s=e,i={metadata:{name:"",generateName:"link-"},spec:{displayName:"",url:"",logo:"",groupName:""},kind:"Link",apiVersion:"core.halo.run/v1alpha1"},r=l.ref(Gt(i)),o=l.ref(!1),a=l.ref(!1),c=l.inject("groupQuery",l.ref("")),u=l.computed(()=>!!r.value.metadata.creationTimestamp),h=l.computed(()=>u.value?"编辑链接":"新建链接"),f=k=>{s("update:visible",k),k||s("close")},p=()=>{r.value=Gt(i)};l.watch(()=>n.visible,k=>{k?a.value=!0:setTimeout(()=>{a.value=!1,p()},200)}),l.watch(()=>n.link,k=>{k&&(r.value=Gt(k))});const g=l.ref(),b=async()=>{var L;(L=g.value)==null||L.handleSubmit(),await l.nextTick();const{customAnnotations:k,annotations:N,customFormInvalid:_,specFormInvalid:I}=g.value||{};if(!(_||I)){r.value.metadata.annotations={...N,...k};try{o.value=!0,u.value?await ge.link.updateLink({name:r.value.metadata.name,link:r.value}):(r.value.spec.groupName=c.value,await ge.link.createLink({link:r.value})),M.Toast.success("保存成功"),f(!1)}catch(A){console.error(A)}finally{o.value=!1}}},m=l.ref(!1),y=async()=>{var N;if(m.value)return;const k=(N=r.value.spec)==null?void 0:N.url;if(k){m.value=!0;try{const{data:_}=await Ns.link.getLinkDetail({url:k});r.value.spec.displayName=_.title||"",r.value.spec.logo=_.icon,r.value.spec.description=_.description,M.Toast.info("获取链接详情成功")}catch{M.Toast.error("获取链接详情失败")}finally{m.value=!1}}};return(k,N)=>{const _=l.resolveComponent("FormKit"),I=l.resolveComponent("AnnotationsForm"),L=l.resolveDirective("tooltip");return l.openBlock(),l.createBlock(l.unref(M.VModal),{title:h.value,visible:k.visible,width:650,"onUpdate:visible":f},{actions:l.withCtx(()=>[l.renderSlot(k.$slots,"append-actions",{},void 0,!0)]),footer:l.withCtx(()=>[l.createVNode(l.unref(M.VSpace),null,{default:l.withCtx(()=>[l.createVNode(l.unref(M.VButton),{loading:o.value,type:"secondary",onClick:N[1]||(N[1]=A=>k.$formkit.submit("link-form"))},{default:l.withCtx(()=>[l.createTextVNode(" 提交 ")]),_:1},8,["loading"]),l.createVNode(l.unref(M.VButton),{onClick:N[2]||(N[2]=A=>f(!1))},{default:l.withCtx(()=>[l.createTextVNode("取消")]),_:1})]),_:1})]),default:l.withCtx(()=>[a.value?(l.openBlock(),l.createBlock(_,{key:0,id:"link-form",modelValue:r.value.spec,"onUpdate:modelValue":N[0]||(N[0]=A=>r.value.spec=A),name:"link-form",type:"form",config:{validationVisibility:"submit"},disabled:m.value,onSubmit:b},{default:l.withCtx(()=>[l.createElementVNode("div",ku,[vu,l.createElementVNode("div",Su,[l.createVNode(_,{type:"url",name:"url",validation:"required",label:"网站地址"},{suffix:l.withCtx(()=>[l.withDirectives((l.openBlock(),l.createElementBlock("div",{class:"group h-full flex cursor-pointer items-center px-3 transition-all",onClick:y},[m.value?(l.openBlock(),l.createBlock(l.unref(M.VLoading),{key:0,class:"size-4 text-gray-500 group-hover:text-gray-700"})):(l.openBlock(),l.createBlock(l.unref(wu),{key:1,class:"size-4 text-gray-500 group-hover:text-gray-700"}))])),[[L,{content:"获取网站信息"}]])]),_:1}),l.createVNode(_,{type:"text",name:"displayName",validation:"required",label:"网站名称"}),l.createVNode(_,{type:"attachment",name:"logo",label:"Logo"}),l.createVNode(_,{type:"textarea",name:"description",label:"描述"})])])]),_:1},8,["modelValue","disabled"])):l.createCommentVNode("",!0),_u,l.createElementVNode("div",Ou,[Eu,l.createElementVNode("div",Nu,[k.visible?(l.openBlock(),l.createBlock(I,{key:r.value.metadata.name,ref_key:"annotationsFormRef",ref:g,value:r.value.metadata.annotations,kind:"Link",group:"core.halo.run"},null,8,["value"])):l.createCommentVNode("",!0)])])]),_:3},8,["title","visible"])}}}),[["__scopeId","data-v-9821901c"]]),Tu={class:"p-4"},Lu={class:"flex flex-row gap-2"},Au={class:"w-96"},Iu={class:"flex-1"},Vu={class:"block w-full bg-gray-50 px-4 py-3"},Du={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},$u={class:"mr-4 hidden items-center sm:flex"},xu={class:"w-full flex flex-1 sm:w-auto"},Mu={class:"mt-4 flex sm:mt-0"},Pu={class:"w-full overflow-x-auto"},Bu={class:"w-full border-spacing-0"},Ru={class:"drag-element absolute inset-y-0 left-0 hidden w-3.5 cursor-move items-center bg-gray-100 transition-all group-hover:flex hover:bg-gray-200"},ju=["value"],Fu=["href"],Uu=ts(l.defineComponent({__name:"LinkList",setup(t){const e=Zi(),n=l.ref(!1),s=l.ref(),i=l.ref([]),r=l.ref(!1),o=l.ref(!1),a=ba.useRouteQuery("group");l.provide("groupQuery",a);const c=l.ref(1),u=l.ref(20),h=l.ref(""),{links:f,isLoading:p,total:g,refetch:b}=Ha(c,u,h,a);l.watch(()=>a.value,()=>{c.value=1,i.value.length=0,o.value=!1});const m=()=>{if(!f.value)return;const R=f.value.findIndex(S=>{var O;return S.metadata.name===((O=s.value)==null?void 0:O.metadata.name)});if(R>0){s.value=f.value[R-1];return}R<=0&&(s.value=void 0)},y=()=>{if(!f.value)return;if(!s.value){s.value=f.value[0];return}const R=f.value.findIndex(S=>{var O;return S.metadata.name===((O=s.value)==null?void 0:O.metadata.name)});R!==f.value.length-1&&(s.value=f.value[R+1])},k=R=>{s.value=R,r.value=!0},N=async()=>{var R;try{const S=(R=f.value)==null?void 0:R.map((O,C)=>(O.spec&&(O.spec.priority=C),ge.link.updateLink({name:O.metadata.name,link:O})));S&&await Promise.all(S)}catch(S){console.error(S)}finally{await b()}},_=async()=>{s.value=void 0,b()},I=R=>{M.Dialog.warning({title:"是否确认删除当前的链接？",description:"删除之后将无法恢复。",confirmType:"danger",onConfirm:async()=>{try{await ge.link.deleteLink({name:R.metadata.name}),M.Toast.success("删除成功")}catch(S){console.error(S)}finally{e.invalidateQueries({queryKey:["links"]})}}})},L=()=>{M.Dialog.warning({title:"是否确认删除所选的链接？",description:"删除之后将无法恢复。",confirmType:"danger",onConfirm:async()=>{try{const R=i.value.map(S=>ge.link.deleteLink({name:S}));R&&await Promise.all(R),i.value.length=0,o.value=!1,M.Toast.success("删除成功")}catch(R){console.error(R)}finally{e.invalidateQueries({queryKey:["links"]})}}})},A=async()=>{var x;if(!((x=f.value)!=null&&x.length))return;const R=f.value.map(D=>{if(i.value.includes(D.metadata.name))return ao.stringify(D)}).filter(D=>D).join(`---
`),S=new Blob([R],{type:"text/yaml"}),O=URL.createObjectURL(S),C=document.createElement("a");C.href=O,C.download="links.yaml",C.click()},q=async()=>{const R=ya.useFileSystemAccess({dataType:"Text",types:[{description:"yaml",accept:{"text/yaml":[".yaml",".yml"]}}],excludeAcceptAllOption:!0});await R.open();try{if(!R.data.value)return;const S=ao.parseAllDocuments(R.data.value);if(Array.isArray(S)){const O=S.map(C=>ge.link.createLink({link:C}));O&&await Promise.all(O)}else await ge.link.createLink({link:S})}catch(S){console.error(S)}finally{e.invalidateQueries({queryKey:["links"]})}},v=R=>{var O;const{checked:S}=R.target;o.value=S,o.value?i.value=((O=f.value)==null?void 0:O.map(C=>C.metadata.name))||[]:i.value.length=0};l.watch(i,R=>{var S;o.value=R.length===((S=f.value)==null?void 0:S.length)});const{groups:$}=tr();function B(R){var S;return(S=$.value)==null?void 0:S.find(O=>O.metadata.name===R)}async function j(R){var C;const O=((C=i.value)==null?void 0:C.map(x=>{var D;return(D=f.value)==null?void 0:D.find(P=>P.metadata.name===x)}).filter(Boolean)).map(x=>ge.link.patchLink({name:x.metadata.name,jsonPatchInner:[{op:"add",path:"/spec/groupName",value:R.metadata.name||""}]}));O&&await Promise.all(O),b(),i.value.length=0,o.value=!1,M.Toast.success("移动成功")}async function U(R,S){await ge.link.patchLink({name:R.metadata.name,jsonPatchInner:[{op:"add",path:"/spec/groupName",value:S.metadata.name||""}]}),M.Toast.success("移动成功"),b()}return(R,S)=>{const O=l.resolveComponent("SearchInput"),C=l.resolveDirective("permission"),x=l.resolveDirective("close-popper"),D=l.resolveDirective("tooltip");return l.openBlock(),l.createElementBlock(l.Fragment,null,[l.createVNode(Cu,{visible:r.value,"onUpdate:visible":S[0]||(S[0]=P=>r.value=P),link:s.value,onClose:_},{"append-actions":l.withCtx(()=>[l.createElementVNode("span",{onClick:m},[l.createVNode(l.unref(M.IconArrowLeft))]),l.createElementVNode("span",{onClick:y},[l.createVNode(l.unref(M.IconArrowRight))])]),_:1},8,["visible","link"]),l.createVNode(l.unref(M.VPageHeader),{title:"链接"},{icon:l.withCtx(()=>[l.createVNode(l.unref(lo),{class:"mr-2 self-center"})]),actions:l.withCtx(()=>[l.withDirectives((l.openBlock(),l.createBlock(l.unref(M.VSpace),null,{default:l.withCtx(()=>[l.createVNode(l.unref(M.VButton),{size:"sm",type:"default",onClick:q},{default:l.withCtx(()=>[l.createTextVNode(" 导入 ")]),_:1})]),_:1})),[[C,["plugin:links:manage"]]])]),_:1}),l.createElementVNode("div",Tu,[l.createElementVNode("div",Lu,[l.createElementVNode("div",Au,[l.createVNode(mu)]),l.createElementVNode("div",Iu,[l.createVNode(l.unref(M.VCard),{"body-class":["!p-0"]},{header:l.withCtx(()=>[l.createElementVNode("div",Vu,[l.createElementVNode("div",Du,[l.createElementVNode("div",$u,[l.withDirectives(l.createElementVNode("input",{"onUpdate:modelValue":S[1]||(S[1]=P=>o.value=P),type:"checkbox",onChange:v},null,544),[[l.vModelCheckbox,o.value]])]),l.createElementVNode("div",xu,[i.value.length?(l.openBlock(),l.createBlock(l.unref(M.VSpace),{key:1},{default:l.withCtx(()=>[l.createVNode(l.unref(M.VButton),{type:"danger",onClick:L},{default:l.withCtx(()=>[l.createTextVNode(" 删除 ")]),_:1}),l.createVNode(l.unref(M.VDropdown),null,{popper:l.withCtx(()=>[l.createVNode(l.unref(M.VDropdownItem),{onClick:A},{default:l.withCtx(()=>[l.createTextVNode(" 导出 ")]),_:1}),l.createVNode(l.unref(M.VDropdownDivider)),l.createVNode(l.unref(M.VDropdown),{placement:"right",triggers:["click"]},{popper:l.withCtx(()=>[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref($),P=>(l.openBlock(),l.createElementBlock(l.Fragment,{key:P.metadata.name},[P.metadata.name!==l.unref(a)?l.withDirectives((l.openBlock(),l.createBlock(l.unref(M.VDropdownItem),{key:0,onClick:T=>j(P)},{default:l.withCtx(()=>{var T;return[l.createTextVNode(l.toDisplayString((T=P.spec)==null?void 0:T.displayName),1)]}),_:2},1032,["onClick"])),[[x,void 0,void 0,{all:!0}]]):l.createCommentVNode("",!0)],64))),128))]),default:l.withCtx(()=>[l.createVNode(l.unref(M.VDropdownItem),null,{default:l.withCtx(()=>[l.createTextVNode(" 移动 ")]),_:1})]),_:1})]),default:l.withCtx(()=>[l.createVNode(l.unref(M.VButton),{type:"default"},{default:l.withCtx(()=>[l.createTextVNode("更多")]),_:1})]),_:1})]),_:1})):(l.openBlock(),l.createBlock(O,{key:0,modelValue:h.value,"onUpdate:modelValue":S[2]||(S[2]=P=>h.value=P)},null,8,["modelValue"]))]),l.withDirectives((l.openBlock(),l.createElementBlock("div",Mu,[l.createVNode(l.unref(M.VButton),{size:"xs",onClick:S[3]||(S[3]=P=>r.value=!0)},{default:l.withCtx(()=>[l.createTextVNode(" 新建 ")]),_:1})])),[[C,["plugin:links:manage"]]])])])]),footer:l.withCtx(()=>[l.createVNode(l.unref(M.VPagination),{page:c.value,"onUpdate:page":S[9]||(S[9]=P=>c.value=P),size:u.value,"onUpdate:size":S[10]||(S[10]=P=>u.value=P),total:l.unref(g),"size-options":[20,30,50,100]},null,8,["page","size","total"])]),default:l.withCtx(()=>{var P;return[l.unref(p)?(l.openBlock(),l.createBlock(l.unref(M.VLoading),{key:0})):(P=l.unref(f))!=null&&P.length?(l.openBlock(),l.createBlock(l.Transition,{key:2,appear:"",name:"fade"},{default:l.withCtx(()=>[l.createElementVNode("div",Pu,[l.createElementVNode("table",Bu,[l.createVNode(l.unref(Qo),{modelValue:l.unref(f),"onUpdate:modelValue":S[6]||(S[6]=T=>l.isRef(f)?f.value=T:null),class:"divide-y divide-gray-100",group:"link",handle:".drag-element","item-key":"id",tag:"tbody",onEnd:S[7]||(S[7]=T=>n.value=!1),onStart:S[8]||(S[8]=T=>n.value=!0),onUpdate:N},{default:l.withCtx(()=>[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref(f),T=>(l.openBlock(),l.createBlock(l.unref(M.VEntity),{key:T.metadata.name,"is-selected":i.value.includes(T.metadata.name),class:"group"},l.createSlots({checkbox:l.withCtx(()=>[l.withDirectives(l.createElementVNode("input",{"onUpdate:modelValue":S[5]||(S[5]=W=>i.value=W),value:T.metadata.name,type:"checkbox"},null,8,ju),[[l.vModelCheckbox,i.value]])]),start:l.withCtx(()=>{var W;return[l.createVNode(l.unref(M.VEntityField),null,{description:l.withCtx(()=>{var z,H;return[(l.openBlock(),l.createBlock(l.unref(M.VAvatar),{key:T.metadata.name,alt:(z=T.spec)==null?void 0:z.displayName,src:(H=T.spec)==null?void 0:H.logo,size:"md"},null,8,["alt","src"]))]}),_:2},1024),l.createVNode(l.unref(M.VEntityField),{title:(W=T.spec)==null?void 0:W.displayName},{description:l.withCtx(()=>{var z,H;return[l.createElementVNode("a",{href:(z=T.spec)==null?void 0:z.url,class:"truncate text-xs text-gray-500 hover:text-gray-900",target:"_blank"},l.toDisplayString((H=T.spec)==null?void 0:H.url),9,Fu)]}),_:2},1032,["title"])]}),end:l.withCtx(()=>{var W,z,H,oe;return[B(((W=T.spec)==null?void 0:W.groupName)||"")?(l.openBlock(),l.createBlock(l.unref(M.VEntityField),{key:0,description:(oe=(H=B(((z=T.spec)==null?void 0:z.groupName)||""))==null?void 0:H.spec)==null?void 0:oe.displayName},null,8,["description"])):l.createCommentVNode("",!0),T.metadata.deletionTimestamp?(l.openBlock(),l.createBlock(l.unref(M.VEntityField),{key:1},{description:l.withCtx(()=>[l.withDirectives(l.createVNode(l.unref(M.VStatusDot),{state:"warning",animate:""},null,512),[[D,"删除中"]])]),_:1})):l.createCommentVNode("",!0),l.createVNode(l.unref(M.VEntityField),{description:l.unref(Ja)(T.metadata.creationTimestamp)},null,8,["description"])]}),dropdownItems:l.withCtx(()=>{var W;return[l.createVNode(l.unref(M.VDropdownItem),{onClick:z=>k(T)},{default:l.withCtx(()=>[l.createTextVNode(" 编辑 ")]),_:2},1032,["onClick"]),(W=l.unref($))!=null&&W.length?(l.openBlock(),l.createBlock(l.unref(M.VDropdown),{key:0,placement:"left",triggers:["click"]},{popper:l.withCtx(()=>[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref($),z=>(l.openBlock(),l.createElementBlock(l.Fragment,{key:z.metadata.name},[z.metadata.name!==l.unref(a)?l.withDirectives((l.openBlock(),l.createBlock(l.unref(M.VDropdownItem),{key:0,onClick:H=>U(T,z)},{default:l.withCtx(()=>{var H;return[l.createTextVNode(l.toDisplayString((H=z.spec)==null?void 0:H.displayName),1)]}),_:2},1032,["onClick"])),[[x,void 0,void 0,{all:!0}]]):l.createCommentVNode("",!0)],64))),128))]),default:l.withCtx(()=>[l.createVNode(l.unref(M.VDropdownItem),null,{default:l.withCtx(()=>[l.createTextVNode(" 移动 ")]),_:1})]),_:2},1024)):l.createCommentVNode("",!0),l.createVNode(l.unref(M.VDropdownItem),{type:"danger",onClick:z=>I(T)},{default:l.withCtx(()=>[l.createTextVNode(" 删除 ")]),_:2},1032,["onClick"])]}),_:2},[!h.value&&l.unref(a)?{name:"prepend",fn:l.withCtx(()=>[l.createElementVNode("div",Ru,[l.createVNode(l.unref(M.IconList),{class:"h-3.5 w-3.5"})])]),key:"0"}:void 0]),1032,["is-selected"]))),128))]),_:1},8,["modelValue"])])])]),_:1})):(l.openBlock(),l.createBlock(l.Transition,{key:1,appear:"",name:"fade"},{default:l.withCtx(()=>[l.createVNode(l.unref(M.VEmpty),{message:"你可以尝试刷新或者新建链接",title:"当前没有链接"},{actions:l.withCtx(()=>[l.createVNode(l.unref(M.VSpace),null,{default:l.withCtx(()=>[l.createVNode(l.unref(M.VButton),{onClick:l.unref(b)},{default:l.withCtx(()=>[l.createTextVNode(" 刷新")]),_:1},8,["onClick"]),l.withDirectives((l.openBlock(),l.createBlock(l.unref(M.VButton),{type:"primary",onClick:S[4]||(S[4]=T=>r.value=!0)},{icon:l.withCtx(()=>[l.createVNode(l.unref(M.IconAddCircle),{class:"size-full"})]),default:l.withCtx(()=>[l.createTextVNode(" 新建 ")]),_:1})),[[C,["system:menus:manage"]]])]),_:1})]),_:1})]),_:1}))]}),_:1})])])])],64)}}}),[["__scopeId","data-v-f0e861f9"]]);function ld(t){return t}return{components:{},routes:[{parentName:"Root",route:{path:"/links",name:"Links",component:Uu,meta:{permissions:["plugin:links:view"],menu:{name:"链接",group:"content",icon:l.markRaw(lo)}}}}],extensionPoints:{"comment:subject-ref:create":()=>[{kind:"Plugin",group:"plugin.halo.run",resolve:t=>({label:"链接",title:"链接页面",externalUrl:"/links",route:{name:"Links"}})}]}}}(Vue,HaloApiClient,axios,HaloComponents,VueUse,VueUse);
